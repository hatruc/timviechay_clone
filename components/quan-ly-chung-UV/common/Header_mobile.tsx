/* eslint-disable @next/next/no-img-element */
import React, { useContext, useState } from 'react'
import s from './header_mobile.module.scss'
import { Switch } from 'antd';
import { logOut } from '@/components/service/functions';
import { useRouter } from 'next/router';
import Link from 'next/link';
import { NTD_UV_Context } from '@/components/context/ntd_uv_context';
import { POST, POST_SERVER } from '@/pages/api/base-api';
import { NextPageContext } from 'next';
import Image from 'next/image';
import { handleImageSource } from '@/functions/functions';



export const getServerSideProps = async (context: NextPageContext) => {
    // const data = await POST_SERVER(`${process.env.NEXT_PUBLIC_BASE_URL_API_NEW}/new/Home`, { ga: 1 });
    const data = {}
    return {
        props: {
            data
        }
    }
}
const menuItems = [
    {
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="29" height="26" viewBox="0 0 29 26" fill="none">
            <path d="M12.5769 19.2174L10.6538 24M16.4231 19.2174L18.3462 24M8.73077 24H20.2692M26.0385 2H2.96154C2.70652 2 2.46195 2.10078 2.28163 2.28016C2.1013 2.45954 2 2.70284 2 2.95652V18.2609C2 18.5146 2.1013 18.7579 2.28163 18.9372C2.46195 19.1166 2.70652 19.2174 2.96154 19.2174H26.0385C26.2935 19.2174 26.538 19.1166 26.7184 18.9372C26.8987 18.7579 27 18.5146 27 18.2609V2.95652C27 2.70284 26.8987 2.45954 26.7184 2.28016C26.538 2.10078 26.2935 2 26.0385 2Z" stroke="#333333" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
        </svg>,
        label: "Quản lý chung",
        isSubmenu: false,
        externalLink: "/ung-vien/quan-ly-chung",
    },
    {
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" viewBox="0 0 20 25" fill="none">
            <path d="M20 9.17024C20 8.93631 19.9287 8.71983 19.8065 8.54131L19.8085 8.54541C19.7891 8.51738 19.7687 8.49001 19.7474 8.46333L19.7423 8.45718C19.722 8.43261 19.7006 8.40899 19.6782 8.38638L19.668 8.37612L19.6395 8.34637L11.6729 0.322159C11.6503 0.299271 11.6265 0.277691 11.6016 0.257522L11.5792 0.237002L11.5242 0.195963L11.4967 0.176469C11.4772 0.164124 11.4575 0.152152 11.4376 0.14056L11.4121 0.12517C11.3851 0.110803 11.3576 0.097456 11.3296 0.0851566L11.295 0.0707928L11.24 0.0502732L11.2003 0.0379614L11.1382 0.0215456L11.1066 0.0143638C11.0755 0.00849809 11.0443 0.00370736 11.0129 0H1.11117C0.500076 0 0.00407394 0.496576 0 1.11114V23.496C0 24.1147 0.498039 24.6154 1.11117 24.6154H18.8878C19.502 24.6154 19.999 24.1137 19.999 23.496V9.19896L20 9.17024ZM11.9978 3.80947L16.2041 8.05191H11.9978V3.80947ZM2.22132 22.3777V2.23049H9.77848V9.17331C9.77848 9.79198 10.2765 10.2927 10.8896 10.2927H17.7817V22.3777H2.22132Z" fill="#333333" />
            <path d="M13.7017 17.9004H6.26266C5.96796 17.9004 5.68533 18.0184 5.47694 18.2283C5.26856 18.4382 5.15149 18.7229 5.15149 19.0198C5.15149 19.3167 5.26856 19.6014 5.47694 19.8113C5.68533 20.0212 5.96796 20.1391 6.26266 20.1391H6.29525H6.29321H13.7322C14.0269 20.1391 14.3096 20.0212 14.5179 19.8113C14.7263 19.6014 14.8434 19.3167 14.8434 19.0198C14.8434 18.7229 14.7263 18.4382 14.5179 18.2283C14.3096 18.0184 14.0269 17.9004 13.7322 17.9004H13.6996H13.7017ZM13.7017 13.4241H6.26266C5.96796 13.4241 5.68533 13.542 5.47694 13.7519C5.26856 13.9618 5.15149 14.2466 5.15149 14.5434C5.15149 14.8403 5.26856 15.125 5.47694 15.3349C5.68533 15.5448 5.96796 15.6628 6.26266 15.6628H6.29525H6.29321H13.7322C14.0269 15.6628 14.3096 15.5448 14.5179 15.3349C14.7263 15.125 14.8434 14.8403 14.8434 14.5434C14.8434 14.2466 14.7263 13.9618 14.5179 13.7519C14.3096 13.542 14.0269 13.4241 13.7322 13.4241H13.6996H13.7017Z" fill="#333333" />
        </svg>,
        label: "Bộ hồ sơ xin việc",
        isSubmenu: true,
        links: [
            { href: "/ung-vien/ho-so-xin-viec", label: "Hồ sơ xin việc" },
            { href: "/ung-vien/CV-xin-viec", label: "CV xin việc" },
            // { href: "/ung-vien/don-xin-viec", label: "Đơn xin việc" },
            // { href: "/ung-vien/thu-xin-viec", label: "Thư xin việc" },
            { href: "/ung-vien/tai-len-ho-so", label: "Tải lên hồ sơ" },
        ],
    },
    {

        icon: <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 26 20" fill="none">
            <path d="M26 3.78276V19.6152H0V3.78276H8.125V2.19951C8.125 1.97687 8.16732 1.77072 8.25195 1.58106C8.33659 1.3914 8.45085 1.22648 8.59473 1.08629C8.73861 0.946108 8.91211 0.830663 9.11523 0.739956C9.31836 0.649249 9.52995 0.608019 9.75 0.616265H16.25C16.4785 0.616265 16.6901 0.657496 16.8848 0.739956C17.0794 0.822417 17.2487 0.933739 17.3926 1.07392C17.5365 1.21411 17.6549 1.38315 17.748 1.58106C17.8411 1.77896 17.8835 1.98511 17.875 2.19951V3.78276H26ZM9.75 3.78276H16.25V2.19951H9.75V3.78276ZM1.625 5.36601V7.65429L9.75 11.6V10.1157H16.25V11.6L24.375 7.65429V5.36601H1.625ZM11.375 11.699V13.2822H14.625V11.699H11.375ZM24.375 18.032V9.41071L16.25 13.3812V14.8655H9.75V13.3812L1.625 9.41071V18.032H24.375Z" fill="#333333" />
        </svg>,
        label: "Việc làm",
        isSubmenu: false,
        externalLink: "/tin-tuyen-dung",
    },
    // {
    //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="24" height="27" viewBox="0 0 24 27" fill="none">
    //         <path d="M13.375 1.61523V7.02793C13.375 7.38682 13.5199 7.731 13.7777 7.98477C14.0356 8.23854 14.3853 8.38111 14.75 8.38111H20.25" stroke="#333333" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    //         <path d="M7.875 25.9724H3.75C3.02065 25.9724 2.32118 25.6872 1.80546 25.1797C1.28973 24.6722 1 23.9838 1 23.266V4.32158C1 3.60382 1.28973 2.91544 1.80546 2.40791C2.32118 1.90037 3.02065 1.61523 3.75 1.61523H13.375L20.25 8.38111V13.1172M6.5 9.73428H7.875M6.5 15.147H9.9375M6.5 20.5597H7.875" stroke="#333333" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    //         <path d="M13.375 25.9723V20.5596C13.375 19.8419 13.6647 19.1535 14.1805 18.6459C14.6962 18.1384 15.3957 17.8533 16.125 17.8533C16.8543 17.8533 17.5538 18.1384 18.0695 18.6459C18.5853 19.1535 18.875 19.8419 18.875 20.5596V25.9723M13.375 23.266H18.875M23 17.8533V25.9723" stroke="#333333" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    //     </svg>,
    //     label: "Việc làm gợi ý từ AI",
    //     isSubmenu: false,
    //     externalLink: "#",
    // },
    // {
    //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="21" height="28" viewBox="0 0 21 28" fill="none">
    //         <path d="M10.5 0.972656C7.71624 0.975974 5.04743 2.09457 3.07901 4.08308C1.1106 6.07159 0.00329525 8.76763 1.11709e-05 11.5798C-0.00332295 13.8779 0.739765 16.1137 2.11528 17.9441C2.11528 17.9441 2.40165 18.325 2.44842 18.3799L10.5 27.9727L18.5554 18.3751C18.5974 18.324 18.8847 17.9441 18.8847 17.9441L18.8857 17.9412C20.2605 16.1116 21.0033 13.8769 21 11.5798C20.9967 8.76763 19.8894 6.07159 17.921 4.08308C15.9526 2.09457 13.2838 0.975974 10.5 0.972656ZM10.5 15.4369C9.74484 15.4369 9.00663 15.2107 8.37873 14.7869C7.75084 14.3631 7.26145 13.7607 6.97246 13.0559C6.68348 12.3511 6.60786 11.5755 6.75519 10.8273C6.90251 10.0791 7.26616 9.39182 7.80014 8.85239C8.33412 8.31296 9.01446 7.9456 9.75511 7.79677C10.4958 7.64794 11.2635 7.72433 11.9612 8.01626C12.6588 8.3082 13.2552 8.80258 13.6747 9.43689C14.0942 10.0712 14.3182 10.8169 14.3182 11.5798C14.3169 12.6024 13.9142 13.5827 13.1985 14.3058C12.4827 15.0289 11.5123 15.4357 10.5 15.4369Z" fill="#333333" />
    //     </svg>,
    //     label: "Tìm việc làm quanh đây",
    //     isSubmenu: false,
    //     externalLink: "#",
    // },
    {
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
            <path d="M10.1333 18.5727L19.5333 9.17265L17.6667 7.30599L10.1333 14.8393L6.33333 11.0393L4.46667 12.906L10.1333 18.5727ZM2.66667 24.9727C1.93333 24.9727 1.30578 24.7118 0.784 24.19C0.262222 23.6682 0.000888889 23.0402 0 22.306V3.63932C0 2.90599 0.261333 2.27843 0.784 1.75666C1.30667 1.23488 1.93422 0.973545 2.66667 0.972656H21.3333C22.0667 0.972656 22.6947 1.23399 23.2173 1.75666C23.74 2.27932 24.0009 2.90688 24 3.63932V22.306C24 23.0393 23.7391 23.6673 23.2173 24.19C22.6956 24.7127 22.0676 24.9735 21.3333 24.9727H2.66667Z" fill="#333333" />
        </svg>,
        label: "Việc làm đã ứng tuyển",
        isSubmenu: false,
        externalLink: "/ung-vien/viec-lam-da-ung-tuyen",
    },
    {
        icon: <svg xmlns="http://www.w3.org/2000/svg" width="25" height="32" viewBox="0 0 25 32" fill="none">
            <path d="M19.0221 26.3971L15.5368 22.8985C15.3995 22.7676 15.3309 22.6003 15.3309 22.3966C15.3309 22.1929 15.3995 22.0217 15.5368 21.8829C15.674 21.7451 15.8382 21.6713 16.0294 21.6615C16.2196 21.6516 16.3838 21.7161 16.5221 21.8548L19.1176 24.4618V17.9858C19.1176 17.7761 19.1882 17.601 19.3294 17.4602C19.4706 17.3185 19.6456 17.2477 19.8544 17.2477C20.0632 17.2477 20.2377 17.3185 20.3779 17.4602C20.5181 17.601 20.5882 17.7761 20.5882 17.9858V24.4618L23.1838 21.8548C23.3152 21.7171 23.4824 21.6482 23.6853 21.6482C23.8882 21.6482 24.0588 21.7171 24.1971 21.8548C24.3353 21.9926 24.4039 22.1639 24.4029 22.3686C24.4029 22.5723 24.3343 22.7396 24.1971 22.8705L20.6838 26.3986C20.4466 26.6357 20.1696 26.7543 19.8529 26.7543C19.5363 26.7543 19.2593 26.6352 19.0221 26.3971ZM15.4412 31.9727C15.2324 31.9727 15.0578 31.9018 14.9176 31.7601C14.7775 31.6184 14.7069 31.4432 14.7059 31.2346C14.7059 31.0259 14.7765 30.8507 14.9176 30.709C15.0588 30.5683 15.2333 30.4979 15.4412 30.4979H24.2647C24.4735 30.4979 24.648 30.5688 24.7882 30.7105C24.9284 30.8522 24.999 31.0269 25 31.2346C25 31.4432 24.9294 31.6184 24.7882 31.7601C24.648 31.9008 24.4735 31.9712 24.2647 31.9712L15.4412 31.9727ZM2.375 26.0679C1.73578 26.0679 1.18039 25.8307 0.708823 25.3564C0.236274 24.883 0 24.3255 0 23.6838V3.3567C0 2.71505 0.236274 2.15755 0.708823 1.68418C1.18039 1.20983 1.73578 0.972656 2.375 0.972656H11.5132C11.8377 0.972656 12.1475 1.03662 12.4426 1.16456C12.7368 1.29447 12.9907 1.4662 13.2044 1.67975L19.8824 8.38313C20.0951 8.59669 20.2657 8.85158 20.3941 9.1478C20.5225 9.44304 20.5868 9.75402 20.5868 10.0808V12.5342C20.5868 12.8717 20.473 13.1547 20.2456 13.383C20.0181 13.6113 19.7358 13.7255 19.3985 13.7255H13.5735C12.9196 13.7255 12.3603 13.9592 11.8956 14.4267C11.4299 14.8931 11.1971 15.4541 11.1971 16.1095V24.8737C11.1971 25.2122 11.0833 25.4956 10.8559 25.7239C10.6284 25.9523 10.3466 26.0664 10.0103 26.0664L2.375 26.0679ZM13.5471 9.8298H19.1176L11.7647 2.44885V8.04066C11.7647 8.53764 11.9377 8.96032 12.2838 9.3087C12.6309 9.6561 13.052 9.8298 13.5471 9.8298Z" fill="#333333" />
        </svg>,
        label: "Việc làm đã lưu",
        isSubmenu: false,
        externalLink: "/ung-vien/viec-lam-da-luu",
    },
    // {
    //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="30" height="29" viewBox="0 0 30 29" fill="none">
    //         <path d="M9.22222 9.3256H20.7778M9.22222 15.208H17.8889M23.6667 1.97266C24.8159 1.97266 25.9181 2.43747 26.7308 3.26483C27.5435 4.0922 28 5.21435 28 6.38442V18.1491C28 19.3192 27.5435 20.4413 26.7308 21.2687C25.9181 22.0961 24.8159 22.5609 23.6667 22.5609H16.4444L9.22222 26.9727V22.5609H6.33333C5.18406 22.5609 4.08186 22.0961 3.2692 21.2687C2.45655 20.4413 2 19.3192 2 18.1491V6.38442C2 5.21435 2.45655 4.0922 3.2692 3.26483C4.08186 2.43747 5.18406 1.97266 6.33333 1.97266H23.6667Z" stroke="#333333" strokeWidth="2.91667" strokeLinecap="round" strokeLinejoin="round" />
    //     </svg>,
    //     label: "Tin nhắn từ NTD",
    //     isSubmenu: false,
    //     externalLink: "/ung-vien/tin-nhan-tu-NTD",
    // },
    // {

    //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="29" height="30" viewBox="0 0 29 30" fill="none">
    //         <path d="M16.3907 10.3388H5.46361C5.25661 10.3388 5.05808 10.2566 4.91171 10.1102C4.76534 9.96383 4.68311 9.7653 4.68311 9.5583V6.43627C4.68311 6.22927 4.76534 6.03074 4.91171 5.88437C5.05808 5.73799 5.25661 5.65576 5.46361 5.65576H16.3907C16.5977 5.65576 16.7962 5.73799 16.9426 5.88437C17.089 6.03074 17.1712 6.22927 17.1712 6.43627V9.5583C17.1712 9.7653 17.089 9.96383 16.9426 10.1102C16.7962 10.2566 16.5977 10.3388 16.3907 10.3388ZM6.24412 8.77779H15.6102V7.16995H6.24412V8.77779Z" fill="#333333" />
    //         <path d="M16.3907 11.9622H5.46361C5.25661 11.9622 5.05808 12.0444 4.91171 12.1908C4.76534 12.3371 4.68311 12.5357 4.68311 12.7427V15.8023C4.68311 16.0093 4.76534 16.2078 4.91171 16.3542C5.05808 16.5005 5.25661 16.5828 5.46361 16.5828H14.3302L17.1712 13.6949V12.7427C17.1712 12.5357 17.089 12.3371 16.9426 12.1908C16.7962 12.0444 16.5977 11.9622 16.3907 11.9622ZM15.6102 15.0217H6.24412V13.4607H15.6102V15.0217Z" fill="#333333" />
    //         <path d="M8.63243 25.5665V25.5196L8.88219 24.4347H3.12205V4.09471H18.7322V12.0949L20.2932 10.6197V3.3142C20.2932 3.1072 20.211 2.90867 20.0646 2.7623C19.9182 2.61592 19.7197 2.53369 19.5127 2.53369H2.34154C2.13454 2.53369 1.93601 2.61592 1.78964 2.7623C1.64327 2.90867 1.56104 3.1072 1.56104 3.3142V25.1684C1.56104 25.3754 1.64327 25.5739 1.78964 25.7203C1.93601 25.8667 2.13454 25.9489 2.34154 25.9489H8.5856C8.59203 25.8205 8.60768 25.6927 8.63243 25.5665Z" fill="#333333" />
    //         <path d="M17.1712 15.9351L16.5624 16.5517C16.7134 16.5205 16.8519 16.4453 16.9602 16.3356C17.0686 16.2259 17.142 16.0865 17.1712 15.9351Z" fill="#333333" />
    //         <path d="M4.68311 21.9995C4.68311 22.2065 4.76534 22.405 4.91171 22.5514C5.05808 22.6978 5.25661 22.78 5.46361 22.78H9.24127L9.47542 21.7654L9.57689 21.3361V21.297H6.24412V19.7048H11.1925L12.7536 18.1438H5.46361C5.25661 18.1438 5.05808 18.226 4.91171 18.3724C4.76534 18.5188 4.68311 18.7173 4.68311 18.9243V21.9995Z" fill="#333333" />
    //         <path d="M26.1391 13.9837L23.5088 11.3534C23.3921 11.2364 23.2534 11.1435 23.1007 11.0801C22.948 11.0167 22.7844 10.9841 22.6191 10.9841C22.4537 10.9841 22.2901 11.0167 22.1374 11.0801C21.9847 11.1435 21.846 11.2364 21.7293 11.3534L11.0285 22.1166L10.1465 25.8708C10.1135 26.0328 10.1128 26.1997 10.1444 26.3619C10.1759 26.5242 10.2392 26.6786 10.3306 26.8164C10.4219 26.9541 10.5396 27.0725 10.6767 27.1647C10.8139 27.257 10.9679 27.3212 11.13 27.3538C11.2104 27.3619 11.2915 27.3619 11.3719 27.3538C11.4676 27.3694 11.5651 27.3694 11.6607 27.3538L15.4462 26.5187L26.1391 15.8023C26.256 15.6862 26.3487 15.5482 26.4119 15.3962C26.4752 15.2441 26.5077 15.0811 26.5077 14.9164C26.5077 14.7517 26.4752 14.5887 26.4119 14.4367C26.3487 14.2846 26.256 14.1466 26.1391 14.0305V13.9837ZM14.6501 25.0981L11.7934 25.7304L12.4881 22.8971L20.5117 14.7876L22.7127 16.9887L14.6501 25.0981ZM23.5947 16.1067L21.3937 13.9057L22.6347 12.6803L24.8513 14.8969L23.5947 16.1067Z" fill="#333333" />
    //     </svg>,
    //     label: "Biểu mẫu nhân viên",
    //     isSubmenu: false,
    //     externalLink: '#',
    // },
    // {
    //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="19" height="28" viewBox="0 0 19 28" fill="none">
    //         <path d="M9.50001 0.0708008C8.04264 0.0708008 6.92028 1.29417 6.92028 2.75696C6.92028 4.16589 6.91046 5.39862 6.91046 5.39862H4.31923C4.27046 5.39862 4.22327 5.40404 4.17674 5.41181H3.45604V7.9447H15.544V5.41181H14.8233C14.7767 5.40404 14.7295 5.39862 14.6808 5.39862H12.0896C12.0896 5.39862 12.1191 4.28271 12.1191 2.7652C12.1191 1.35625 10.9574 0.0708008 9.50001 0.0708008ZM0 2.63996V27.0708H19V2.63996H12.9806V4.40986H17.2605V25.2976H1.74113V4.40986H6.0194V2.63996H0ZM9.50001 2.6729C9.97747 2.6729 10.3632 3.05945 10.3632 3.53807C10.3632 4.01757 9.97747 4.40489 9.50001 4.40489C9.02256 4.40489 8.63681 4.01755 8.63681 3.53807C8.63681 3.05948 9.02256 2.6729 9.50001 2.6729ZM3.45604 9.66188V10.5287H4.31923V9.66188H3.45604ZM6.04724 9.67835V10.5452H15.544V9.67835H6.04724ZM3.45604 12.9314V13.7982H4.31923V12.9314H3.45604ZM6.04724 12.9479V13.8163H15.544V12.9479H6.04724ZM3.45604 16.2009V17.0678H4.31923V16.2009H3.45604ZM6.04724 16.2191V17.0859H15.544V16.2191H6.04724ZM3.45604 19.4721V20.3389H4.31923V19.4721H3.45604ZM6.04724 19.4902V20.357H15.544V19.4902H6.04724ZM3.45604 22.7416V23.6085H4.31923V22.7416H3.45604ZM6.04724 22.7598V23.6266H15.544V22.7598H6.04724Z" fill="#333333" />
    //     </svg>,
    //     label: "Cẩm nang tìm việc",
    //     isSubmenu: false,
    //     externalLink: "#",
    // },
    {

        icon: <svg xmlns="http://www.w3.org/2000/svg" width="27" height="23" viewBox="0 0 27 23" fill="none">
            <path d="M11.8048 12.1344C11.5052 12.121 11.2057 12.1077 10.8925 12.1077C7.59754 12.1077 4.5204 13.0038 1.89258 14.5418C0.694399 15.2373 0 16.548 0 17.9256V21.4698H12.6081C11.6464 20.1222 11.0654 18.5484 10.9243 16.9086C10.7832 15.2687 11.087 13.6214 11.8048 12.1344Z" fill="#333333" />
            <path d="M10.8924 10.7704C13.9003 10.7704 16.3387 8.3752 16.3387 5.42059C16.3387 2.46598 13.9003 0.0708008 10.8924 0.0708008C7.88454 0.0708008 5.44617 2.46598 5.44617 5.42059C5.44617 8.3752 7.88454 10.7704 10.8924 10.7704Z" fill="#333333" />
            <path d="M25.5295 16.1203C25.5295 15.8261 25.4887 15.5586 25.4478 15.2777L27 13.9269L25.6384 11.6131L23.6642 12.2685C23.2285 11.9074 22.7383 11.6265 22.1937 11.4259L21.7852 9.43311H19.0621L18.6536 11.4259C18.109 11.6265 17.6188 11.9074 17.1831 12.2685L15.2089 11.6131L13.8473 13.9269L15.3995 15.2777C15.3586 15.5586 15.3178 15.8261 15.3178 16.1203C15.3178 16.4146 15.3586 16.6821 15.3995 16.9629L13.8473 18.3138L15.2089 20.6275L17.1831 19.9722C17.6188 20.3333 18.109 20.6142 18.6536 20.8148L19.0621 22.8076H21.7852L22.1937 20.8148C22.7383 20.6142 23.2285 20.3333 23.6642 19.9722L25.6384 20.6275L27 18.3138L25.4478 16.9629C25.4887 16.6821 25.5295 16.4146 25.5295 16.1203ZM20.4237 18.7952C18.9259 18.7952 17.7005 17.5915 17.7005 16.1203C17.7005 14.6491 18.9259 13.4454 20.4237 13.4454C21.9214 13.4454 23.1468 14.6491 23.1468 16.1203C23.1468 17.5915 21.9214 18.7952 20.4237 18.7952Z" fill="#333333" />
        </svg>,
        label: "Quản lý tài khoản",
        isSubmenu: true,
        links: [
            // { href: "/tai-khoan/cap-nhat-thong-tin", label: "Cập nhật thông tin" },
            { href: "/ung-vien/doi-mat-khau", label: "Đổi mật khẩu" },
        ],
    },
];
const Header_mobile = () => {
    const { candiAllowSearch, setCandiAllowSearch, setCandiAllowEmployerSearch, name, ava, point } = useContext(NTD_UV_Context)
    const [getToggle, setToggle] = useState(true);
    const router = useRouter();
    const [activeParent, setActiveParent] = useState(null);

    const handleParentClick = (index: any) => {
        setActiveParent(index === activeParent ? null : index);
    };

    const handleOutsideClick = () => {
        setActiveParent(null);
    };
    const onChange = (checked: boolean) => {
        // console.log(`switch to ${checked}`);
        if (checked) {
            // setCandiAllowEmployerSearch('1')
            fetchSwitchAllowSearch(1)
        } else {
            // setCandiAllowEmployerSearch('0')
            fetchSwitchAllowSearch(0)
        }
    };
    const fetchSwitchAllowSearch = async (value: number) => {
        let response = await POST('candidate/AllowSearchCandi', { value: value })

        if (response?.result) {
            // console.log('>>> switch thanh cong!');
            setCandiAllowEmployerSearch(`${response?.result_search}`)
        } else {
            // console.log('>>> switch that bai!');
        }
    }

    console.log(ava, typeof ava)

    return (
        <>
            <div className={s.header_mobile} style={{ background: getToggle ? '#fff' : "#3582CD" }}>
                {getToggle ? <svg onClick={() => {
                    setToggle(!getToggle)
                }} xmlns="http://www.w3.org/2000/svg" width="40" height="41" viewBox="0 0 40 41" fill="none">
                    <path d="M33.4167 18.8333H6.58333C5.70888 18.8333 5 19.5421 5 20.4166V20.5833C5 21.4577 5.70888 22.1666 6.58333 22.1666H33.4167C34.2911 22.1666 35 21.4577 35 20.5833V20.4166C35 19.5421 34.2911 18.8333 33.4167 18.8333Z" fill="#3582CD" />
                    <path d="M33.4167 27.1667H6.58333C5.70888 27.1667 5 27.8756 5 28.7501V28.9167C5 29.7912 5.70888 30.5001 6.58333 30.5001H33.4167C34.2911 30.5001 35 29.7912 35 28.9167V28.7501C35 27.8756 34.2911 27.1667 33.4167 27.1667Z" fill="#3582CD" />
                    <path d="M33.4167 10.5H6.58333C5.70888 10.5 5 11.2089 5 12.0833V12.25C5 13.1245 5.70888 13.8333 6.58333 13.8333H33.4167C34.2911 13.8333 35 13.1245 35 12.25V12.0833C35 11.2089 34.2911 10.5 33.4167 10.5Z" fill="#3582CD" />
                </svg> : <svg onClick={() => {
                    setToggle(!getToggle)
                }} xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 30 32" fill="none">
                    <path d="M29.3679 27.8996C29.7704 28.3134 29.9964 28.8748 29.9964 29.4601C29.9964 30.0454 29.7704 30.6068 29.3679 31.0207C28.9655 31.4346 28.4197 31.6671 27.8506 31.6671C27.2815 31.6671 26.7358 31.4346 26.3333 31.0207L15 19.3605L3.66309 31.017C3.26067 31.4309 2.71489 31.6634 2.14579 31.6634C1.57669 31.6634 1.0309 31.4309 0.628487 31.017C0.226074 30.6031 5.99642e-09 30.0418 0 29.4564C-5.99642e-09 28.8711 0.226074 28.3098 0.628487 27.8959L11.9654 16.2394L0.632056 4.57929C0.229643 4.16541 0.00357019 3.60406 0.0035702 3.01874C0.00357021 2.43341 0.229643 1.87206 0.632056 1.45818C1.03447 1.04429 1.58026 0.811772 2.14936 0.811772C2.71845 0.811772 3.26424 1.04429 3.66666 1.45818L15 13.1183L26.3369 1.45634C26.7393 1.04245 27.2851 0.809937 27.8542 0.809937C28.4233 0.809937 28.9691 1.04245 29.3715 1.45634C29.7739 1.87023 30 2.43158 30 3.0169C30 3.60222 29.7739 4.16357 29.3715 4.57746L18.0346 16.2394L29.3679 27.8996Z" fill="white" />
                </svg>}
                <Link href={'/'}>
                    <div className={s.box_logo}>
                        {getToggle ? <img src="/images/quan-ly-chung-ntd/logo-mode.png" alt="" /> :
                            <img src="/images/quan-ly-chung-ntd/logo-dark.png" alt="" />}
                    </div>
                </Link>
                <div className={s.box_notif}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="31" viewBox="0 0 26 31" fill="none">
                        <path d="M10.1111 28.0476H15.8889C15.8889 29.6714 14.5889 31 13 31C11.4111 31 10.1111 29.6714 10.1111 28.0476ZM26 25.0952V26.5714H0V25.0952L2.88889 22.1429V13.2857C2.88889 8.70952 5.77778 4.72381 10.1111 3.39524V2.95238C10.1111 1.32857 11.4111 0 13 0C14.5889 0 15.8889 1.32857 15.8889 2.95238V3.39524C20.2222 4.72381 23.1111 8.70952 23.1111 13.2857V22.1429L26 25.0952ZM20.2222 13.2857C20.2222 9.15238 17.0444 5.90476 13 5.90476C8.95556 5.90476 5.77778 9.15238 5.77778 13.2857V23.619H20.2222V13.2857Z" fill="#3582CD" />
                    </svg>
                </div>
            </div>
            {!getToggle && name &&
                <div className={s.menu_show}>
                    <div className={s.box_profile}>
                        <div className={s.box_ava}>
                            <Image
                                src={ava ? handleImageSource(ava) : '/images/nha-tuyen-dung/quan-ly-chung/logo.svg'} alt="user-logo"
                                width={80}
                                height={80}
                                onError={(e) => {
                                    e.currentTarget.srcset = "/images/candidate/ava_default.png"
                                }}
                            />
                        </div>
                        <div className={s.box_info}>
                            <p className={s.name_com}>{name}</p>
                            <div className={s.toggle_option}>
                                <p>Cho phép NTD tìm kiếm</p>
                                <Switch checked={candiAllowSearch == '1' ? true : false} onChange={onChange} />
                            </div>
                        </div>
                    </div>
                    {menuItems.map((item, index) => (
                        <div key={index} className={s.box_container}>
                            <div
                                onClick={() => handleParentClick(index)}
                                className={`${s.box_item} ${activeParent === index ? s.active : ''}`}
                            >
                                {item.icon}
                                <Link href={item.externalLink || ''} className={s.title_parent}>{item.label}</Link>
                                {item.isSubmenu && <svg xmlns="http://www.w3.org/2000/svg" width="15" height="8" viewBox="0 0 15 8" fill="none" className={s.icon_arr}>
                                    <path d="M2 1.80768L7.5 6.80768L13 1.80768" stroke="#333333" strokeWidth="2.1875" strokeLinecap="round" strokeLinejoin="round" />
                                </svg>}
                            </div>
                            {item.isSubmenu && activeParent === index && (
                                <div className={s.list_item_children}>
                                    {item?.links?.map((child, childIndex) => (
                                        <a href={child.href} style={{
                                            width: '100%'
                                        }}>
                                            <div key={childIndex} className={s.item_children}>
                                                <div className={s.item}>
                                                    <p>{child.label}</p>
                                                </div>
                                            </div>
                                        </a>
                                    ))}
                                </div>
                            )}
                        </div>
                    ))}
                    <button className={s.logout} onClick={() => {
                        logOut();
                        router.push('/');
                    }}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="27" viewBox="0 0 29 27" fill="none">
                            <path fillRule="evenodd" clipRule="evenodd" d="M12.3125 24.7919C12.3125 24.4051 12.1589 24.0342 11.8854 23.7607C11.6119 23.4872 11.241 23.3336 10.8542 23.3336H3.56254V2.91691H10.8542C11.241 2.91691 11.6119 2.76327 11.8854 2.48977C12.1589 2.21628 12.3125 1.84535 12.3125 1.45858C12.3125 1.0718 12.1589 0.700871 11.8854 0.42738C11.6119 0.153889 11.241 0.000244141 10.8542 0.000244141H3.56254C2.78899 0.000244141 2.04713 0.307535 1.50015 0.854516C0.953165 1.4015 0.645874 2.14336 0.645874 2.91691V23.3336C0.645874 24.1071 0.953165 24.849 1.50015 25.396C2.04713 25.943 2.78899 26.2502 3.56254 26.2502H10.8542C11.241 26.2502 11.6119 26.0966 11.8854 25.8231C12.1589 25.5496 12.3125 25.1787 12.3125 24.7919Z" fill="white" />
                            <path d="M27.9371 14.1461C28.2039 13.875 28.3537 13.51 28.3542 13.1296V13.1209C28.3535 12.7356 28.1998 12.3663 27.9269 12.0942L22.0936 6.26089C21.9591 6.1216 21.7982 6.0105 21.6202 5.93407C21.4423 5.85764 21.2509 5.81741 21.0573 5.81573C20.8637 5.81405 20.6716 5.85094 20.4924 5.92427C20.3132 5.9976 20.1504 6.10588 20.0134 6.24281C19.8765 6.37974 19.7682 6.54256 19.6949 6.72179C19.6216 6.90101 19.5847 7.09304 19.5864 7.28668C19.588 7.48032 19.6283 7.67168 19.7047 7.8496C19.7811 8.02752 19.8922 8.18844 20.0315 8.32297L23.3755 11.6669H9.39589C9.00912 11.6669 8.63819 11.8206 8.3647 12.0941C8.09121 12.3676 7.93756 12.7385 7.93756 13.1253C7.93756 13.512 8.09121 13.883 8.3647 14.1565C8.63819 14.4299 9.00912 14.5836 9.39589 14.5836H23.3755L20.0315 17.9276C19.7659 18.2026 19.6189 18.571 19.6222 18.9533C19.6255 19.3357 19.7789 19.7015 20.0493 19.9719C20.3197 20.2423 20.6854 20.3956 21.0678 20.399C21.4502 20.4023 21.8186 20.2553 22.0936 19.9896L27.9269 14.1563L27.9371 14.1461Z" fill="white" />
                        </svg>
                        Đăng xuất
                    </button>
                </div>}

        </>
    )
}

export default Header_mobile
