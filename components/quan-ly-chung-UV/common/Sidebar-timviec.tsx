/* eslint-disable react-hooks/exhaustive-deps */
import Link from 'next/link';
import { useRouter } from 'next/router';
import React, { useEffect, useState } from 'react';
import styles from './sidebar-timviec.module.scss';

const SidebarTimViec = () => {

    const [showModal, setshowModal] = useState(false)

    const handleCancel = () => {
        setshowModal(false)
    }

    const menuItems = [
        {
            icon: <svg xmlns="http://www.w3.org/2000/svg" width="29" height="26" viewBox="0 0 29 26" fill="none">
                <path d="M12.5769 19.2174L10.6538 24M16.4231 19.2174L18.3462 24M8.73077 24H20.2692M26.0385 2H2.96154C2.70652 2 2.46195 2.10078 2.28163 2.28016C2.1013 2.45954 2 2.70284 2 2.95652V18.2609C2 18.5146 2.1013 18.7579 2.28163 18.9372C2.46195 19.1166 2.70652 19.2174 2.96154 19.2174H26.0385C26.2935 19.2174 26.538 19.1166 26.7184 18.9372C26.8987 18.7579 27 18.5146 27 18.2609V2.95652C27 2.70284 26.8987 2.45954 26.7184 2.28016C26.538 2.10078 26.2935 2 26.0385 2Z" stroke="white" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
            </svg>,
            label: "Quản lý chung",
            isSubmenu: false,
            externalLink: "/ung-vien/quan-ly-chung",
        },
        {
            icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" viewBox="0 0 20 25" fill="none">
                <path d="M20 9.17024C20 8.93631 19.9287 8.71983 19.8065 8.54131L19.8085 8.54541C19.7891 8.51738 19.7687 8.49001 19.7474 8.46333L19.7423 8.45718C19.722 8.43261 19.7006 8.40899 19.6782 8.38638L19.668 8.37612L19.6395 8.34637L11.6729 0.322159C11.6503 0.299271 11.6265 0.277691 11.6016 0.257522L11.5792 0.237002L11.5242 0.195963L11.4967 0.176469C11.4772 0.164124 11.4575 0.152152 11.4376 0.14056L11.4121 0.12517C11.3851 0.110803 11.3576 0.097456 11.3296 0.0851566L11.295 0.0707928L11.24 0.0502732L11.2003 0.0379614L11.1382 0.0215456L11.1066 0.0143638C11.0755 0.00849809 11.0443 0.00370736 11.0129 0H1.11117C0.500076 0 0.00407394 0.496576 0 1.11114V23.496C0 24.1147 0.498039 24.6154 1.11117 24.6154H18.8878C19.502 24.6154 19.999 24.1137 19.999 23.496V9.19896L20 9.17024ZM11.9978 3.80947L16.2041 8.05191H11.9978V3.80947ZM2.22132 22.3777V2.23049H9.77848V9.17331C9.77848 9.79198 10.2765 10.2927 10.8896 10.2927H17.7817V22.3777H2.22132Z" fill="white" />
                <path d="M13.7025 17.9004H6.26351C5.96881 17.9004 5.68618 18.0184 5.4778 18.2283C5.26941 18.4382 5.15234 18.7229 5.15234 19.0198C5.15234 19.3167 5.26941 19.6014 5.4778 19.8113C5.68618 20.0212 5.96881 20.1391 6.26351 20.1391H6.2961H6.29407H13.7331C14.0278 20.1391 14.3104 20.0212 14.5188 19.8113C14.7272 19.6014 14.8443 19.3167 14.8443 19.0198C14.8443 18.7229 14.7272 18.4382 14.5188 18.2283C14.3104 18.0184 14.0278 17.9004 13.7331 17.9004H13.7005H13.7025ZM13.7025 13.4241H6.26351C5.96881 13.4241 5.68618 13.542 5.4778 13.7519C5.26941 13.9618 5.15234 14.2466 5.15234 14.5434C5.15234 14.8403 5.26941 15.125 5.4778 15.3349C5.68618 15.5448 5.96881 15.6628 6.26351 15.6628H6.2961H6.29407H13.7331C14.0278 15.6628 14.3104 15.5448 14.5188 15.3349C14.7272 15.125 14.8443 14.8403 14.8443 14.5434C14.8443 14.2466 14.7272 13.9618 14.5188 13.7519C14.3104 13.542 14.0278 13.4241 13.7331 13.4241H13.7005H13.7025Z" fill="white" />
            </svg>,
            label: "Bộ hồ sơ xin việc",
            isSubmenu: true,
            links: [
                { href: "/ung-vien/ho-so-xin-viec", label: "Hồ sơ xin việc" },
                { href: "/ung-vien/CV-xin-viec", label: "CV xin việc" },
                // { href: "/ung-vien/don-xin-viec", label: "Đơn xin việc" },
                // { href: "/ung-vien/thu-xin-viec", label: "Thư xin việc" },
                { href: "/ung-vien/tai-len-ho-so", label: "Tải lên hồ sơ" },
            ],
        },
        {

            icon: <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 26 20" fill="none">
                <path d="M26 3.78288V19.6154H0V3.78288H8.125V2.19963C8.125 1.97699 8.16732 1.77084 8.25195 1.58118C8.33659 1.39152 8.45085 1.2266 8.59473 1.08641C8.73861 0.94623 8.91211 0.830785 9.11523 0.740078C9.31836 0.649372 9.52995 0.608141 9.75 0.616387H16.25C16.4785 0.616387 16.6901 0.657618 16.8848 0.740078C17.0794 0.822539 17.2487 0.933861 17.3926 1.07404C17.5365 1.21423 17.6549 1.38327 17.748 1.58118C17.8411 1.77908 17.8835 1.98524 17.875 2.19963V3.78288H26ZM9.75 3.78288H16.25V2.19963H9.75V3.78288ZM1.625 5.36613V7.65442L9.75 11.6002V10.1159H16.25V11.6002L24.375 7.65442V5.36613H1.625ZM11.375 11.6991V13.2824H14.625V11.6991H11.375ZM24.375 18.0321V9.41083L16.25 13.3813V14.8656H9.75V13.3813L1.625 9.41083V18.0321H24.375Z" fill="white" />
            </svg>,
            label: "Việc làm",
            isSubmenu: false,
            externalLink: "/tin-tuyen-dung",
        },
        // {
        //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="24" height="27" viewBox="0 0 24 27" fill="none">
        //         <path d="M13.375 1.61536V7.02805C13.375 7.38694 13.5199 7.73112 13.7777 7.98489C14.0356 8.23866 14.3853 8.38123 14.75 8.38123H20.25" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        //         <path d="M7.875 25.9725H3.75C3.02065 25.9725 2.32118 25.6874 1.80546 25.1798C1.28973 24.6723 1 23.9839 1 23.2662V4.32171C1 3.60394 1.28973 2.91557 1.80546 2.40803C2.32118 1.90049 3.02065 1.61536 3.75 1.61536H13.375L20.25 8.38123V13.1173M6.5 9.7344H7.875M6.5 15.1471H9.9375M6.5 20.5598H7.875" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        //         <path d="M13.375 25.9724V20.5597C13.375 19.842 13.6647 19.1536 14.1805 18.6461C14.6962 18.1385 15.3957 17.8534 16.125 17.8534C16.8543 17.8534 17.5538 18.1385 18.0695 18.6461C18.5853 19.1536 18.875 19.842 18.875 20.5597V25.9724M13.375 23.2661H18.875M23 17.8534V25.9724" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        //     </svg>,
        //     label: "Việc làm gợi ý từ AI",
        //     isSubmenu: false,
        //     externalLink: "#",
        // },
        // {
        //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="21" height="28" viewBox="0 0 21 28" fill="none">
        //         <path d="M10.5 0.972534C7.71624 0.975852 5.04743 2.09445 3.07901 4.08296C1.1106 6.07147 0.00329525 8.76751 1.11709e-05 11.5797C-0.00332295 13.8778 0.739765 16.1135 2.11528 17.944C2.11528 17.944 2.40165 18.3249 2.44842 18.3798L10.5 27.9725L18.5554 18.375C18.5974 18.3239 18.8847 17.944 18.8847 17.944L18.8857 17.9411C20.2605 16.1114 21.0033 13.8767 21 11.5797C20.9967 8.76751 19.8894 6.07147 17.921 4.08296C15.9526 2.09445 13.2838 0.975852 10.5 0.972534ZM10.5 15.4368C9.74484 15.4368 9.00663 15.2106 8.37873 14.7868C7.75084 14.3629 7.26145 13.7605 6.97246 13.0557C6.68348 12.3509 6.60786 11.5754 6.75519 10.8272C6.90251 10.079 7.26616 9.3917 7.80014 8.85227C8.33412 8.31283 9.01446 7.94548 9.75511 7.79665C10.4958 7.64782 11.2635 7.7242 11.9612 8.01614C12.6588 8.30808 13.2552 8.80246 13.6747 9.43676C14.0942 10.0711 14.3182 10.8168 14.3182 11.5797C14.3169 12.6023 13.9142 13.5826 13.1985 14.3057C12.4827 15.0288 11.5123 15.4355 10.5 15.4368Z" fill="white" />
        //     </svg>,
        //     label: "Tìm việc làm quanh đây",
        //     isSubmenu: false,
        //     externalLink: "#",
        // },
        {
            icon: <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                <path d="M10.1333 18.5725L19.5333 9.17253L17.6667 7.30587L10.1333 14.8392L6.33333 11.0392L4.46667 12.9059L10.1333 18.5725ZM2.66667 24.9725C1.93333 24.9725 1.30578 24.7116 0.784 24.1899C0.262222 23.6681 0.000888889 23.0401 0 22.3059V3.6392C0 2.90587 0.261333 2.27831 0.784 1.75653C1.30667 1.23476 1.93422 0.973423 2.66667 0.972534H21.3333C22.0667 0.972534 22.6947 1.23387 23.2173 1.75653C23.74 2.2792 24.0009 2.90676 24 3.6392V22.3059C24 23.0392 23.7391 23.6672 23.2173 24.1899C22.6956 24.7125 22.0676 24.9734 21.3333 24.9725H2.66667Z" fill="white" />
            </svg>,
            label: "Việc làm đã ứng tuyển",
            isSubmenu: false,
            externalLink: "/ung-vien/viec-lam-da-ung-tuyen",
        },
        {
            icon: <svg xmlns="http://www.w3.org/2000/svg" width="25" height="32" viewBox="0 0 25 32" fill="none">
                <path d="M19.0221 26.397L15.5368 22.8984C15.3995 22.7675 15.3309 22.6002 15.3309 22.3965C15.3309 22.1928 15.3995 22.0215 15.5368 21.8828C15.674 21.745 15.8382 21.6712 16.0294 21.6613C16.2196 21.6515 16.3838 21.716 16.5221 21.8547L19.1176 24.4617V17.9856C19.1176 17.776 19.1882 17.6008 19.3294 17.4601C19.4706 17.3184 19.6456 17.2475 19.8544 17.2475C20.0632 17.2475 20.2377 17.3184 20.3779 17.4601C20.5181 17.6008 20.5882 17.776 20.5882 17.9856V24.4617L23.1838 21.8547C23.3152 21.7169 23.4824 21.6481 23.6853 21.6481C23.8882 21.6481 24.0588 21.7169 24.1971 21.8547C24.3353 21.9925 24.4039 22.1637 24.4029 22.3684C24.4029 22.5722 24.3343 22.7395 24.1971 22.8703L20.6838 26.3984C20.4466 26.6356 20.1696 26.7542 19.8529 26.7542C19.5363 26.7542 19.2593 26.6351 19.0221 26.397ZM15.4412 31.9725C15.2324 31.9725 15.0578 31.9017 14.9176 31.76C14.7775 31.6182 14.7069 31.4431 14.7059 31.2344C14.7059 31.0258 14.7765 30.8506 14.9176 30.7089C15.0588 30.5682 15.2333 30.4978 15.4412 30.4978H24.2647C24.4735 30.4978 24.648 30.5687 24.7882 30.7104C24.9284 30.8521 24.999 31.0268 25 31.2344C25 31.4431 24.9294 31.6182 24.7882 31.76C24.648 31.9007 24.4735 31.9711 24.2647 31.9711L15.4412 31.9725ZM2.375 26.0678C1.73578 26.0678 1.18039 25.8306 0.708823 25.3562C0.236274 24.8829 0 24.3254 0 23.6837V3.35658C0 2.71493 0.236274 2.15742 0.708823 1.68406C1.18039 1.20971 1.73578 0.972534 2.375 0.972534H11.5132C11.8377 0.972534 12.1475 1.0365 12.4426 1.16444C12.7368 1.29434 12.9907 1.46607 13.2044 1.67963L19.8824 8.38301C20.0951 8.59657 20.2657 8.85145 20.3941 9.14768C20.5225 9.44291 20.5868 9.7539 20.5868 10.0806V12.5341C20.5868 12.8716 20.473 13.1545 20.2456 13.3829C20.0181 13.6112 19.7358 13.7253 19.3985 13.7253H13.5735C12.9196 13.7253 12.3603 13.9591 11.8956 14.4265C11.4299 14.893 11.1971 15.454 11.1971 16.1094V24.8735C11.1971 25.2121 11.0833 25.4955 10.8559 25.7238C10.6284 25.9521 10.3466 26.0663 10.0103 26.0663L2.375 26.0678ZM13.5471 9.82968H19.1176L11.7647 2.44872V8.04053C11.7647 8.53752 11.9377 8.9602 12.2838 9.30858C12.6309 9.65598 13.052 9.82968 13.5471 9.82968Z" fill="white" />
            </svg>,
            label: "Việc làm đã lưu",
            isSubmenu: false,
            externalLink: "/ung-vien/viec-lam-da-luu",
        },
        // {
        //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="30" height="29" viewBox="0 0 30 29" fill="none">
        //         <path d="M9.22222 9.32548H20.7778M9.22222 15.2078H17.8889M23.6667 1.97253C24.8159 1.97253 25.9181 2.43734 26.7308 3.26471C27.5435 4.09208 28 5.21423 28 6.3843V18.149C28 19.3191 27.5435 20.4412 26.7308 21.2686C25.9181 22.096 24.8159 22.5608 23.6667 22.5608H16.4444L9.22222 26.9725V22.5608H6.33333C5.18406 22.5608 4.08186 22.096 3.2692 21.2686C2.45655 20.4412 2 19.3191 2 18.149V6.3843C2 5.21423 2.45655 4.09208 3.2692 3.26471C4.08186 2.43734 5.18406 1.97253 6.33333 1.97253H23.6667Z" stroke="white" strokeWidth="2.91667" strokeLinecap="round" strokeLinejoin="round"/>
        //     </svg>,
        //     label: "Tin nhắn từ NTD",
        //     isSubmenu: false,
        //     externalLink: '/ung-vien/tin-nhan-tu-NTD',
        // },
        // {

        //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="29" height="30" viewBox="0 0 29 30" fill="none">
        //         <path d="M16.3907 10.3386H5.46361C5.25661 10.3386 5.05808 10.2564 4.91171 10.11C4.76534 9.96364 4.68311 9.76512 4.68311 9.55812V6.43609C4.68311 6.22908 4.76534 6.03056 4.91171 5.88418C5.05808 5.73781 5.25661 5.65558 5.46361 5.65558H16.3907C16.5977 5.65558 16.7962 5.73781 16.9426 5.88418C17.089 6.03056 17.1712 6.22908 17.1712 6.43609V9.55812C17.1712 9.76512 17.089 9.96364 16.9426 10.11C16.7962 10.2564 16.5977 10.3386 16.3907 10.3386ZM6.24412 8.77761H15.6102V7.16976H6.24412V8.77761Z" fill="white" />
        //         <path d="M16.3907 11.9621H5.46361C5.25661 11.9621 5.05808 12.0443 4.91171 12.1907C4.76534 12.3371 4.68311 12.5356 4.68311 12.7426V15.8022C4.68311 16.0092 4.76534 16.2077 4.91171 16.3541C5.05808 16.5005 5.25661 16.5827 5.46361 16.5827H14.3302L17.1712 13.6948V12.7426C17.1712 12.5356 17.089 12.3371 16.9426 12.1907C16.7962 12.0443 16.5977 11.9621 16.3907 11.9621ZM15.6102 15.0217H6.24412V13.4607H15.6102V15.0217Z" fill="white" />
        //         <path d="M8.63243 25.5663V25.5195L8.88219 24.4346H3.12205V4.09458H18.7322V12.0948L20.2932 10.6196V3.31408C20.2932 3.10707 20.211 2.90855 20.0646 2.76217C19.9182 2.6158 19.7197 2.53357 19.5127 2.53357H2.34154C2.13454 2.53357 1.93601 2.6158 1.78964 2.76217C1.64327 2.90855 1.56104 3.10707 1.56104 3.31408V25.1683C1.56104 25.3753 1.64327 25.5738 1.78964 25.7202C1.93601 25.8666 2.13454 25.9488 2.34154 25.9488H8.5856C8.59203 25.8204 8.60768 25.6925 8.63243 25.5663Z" fill="white" />
        //         <path d="M17.1712 15.9349L16.5624 16.5515C16.7135 16.5203 16.8519 16.4452 16.9603 16.3354C17.0686 16.2257 17.142 16.0863 17.1712 15.9349Z" fill="white" />
        //         <path d="M4.68311 21.9994C4.68311 22.2064 4.76534 22.4049 4.91171 22.5513C5.05808 22.6977 5.25661 22.7799 5.46361 22.7799H9.24127L9.47542 21.7653L9.57689 21.336V21.297H6.24412V19.7047H11.1925L12.7536 18.1437H5.46361C5.25661 18.1437 5.05808 18.2259 4.91171 18.3723C4.76534 18.5187 4.68311 18.7172 4.68311 18.9242V21.9994Z" fill="white" />
        //         <path d="M26.1391 13.9836L23.5088 11.3533C23.3921 11.2362 23.2534 11.1434 23.1007 11.08C22.948 11.0166 22.7844 10.984 22.6191 10.984C22.4537 10.984 22.2901 11.0166 22.1374 11.08C21.9847 11.1434 21.846 11.2362 21.7293 11.3533L11.0285 22.1165L10.1465 25.8707C10.1135 26.0327 10.1128 26.1996 10.1444 26.3618C10.1759 26.5241 10.2392 26.6785 10.3306 26.8163C10.4219 26.954 10.5396 27.0724 10.6767 27.1646C10.8139 27.2568 10.9679 27.3211 11.13 27.3537C11.2104 27.3618 11.2915 27.3618 11.3719 27.3537C11.4676 27.3693 11.5651 27.3693 11.6607 27.3537L15.4462 26.5185L26.1391 15.8022C26.256 15.6861 26.3487 15.5481 26.4119 15.3961C26.4752 15.244 26.5077 15.081 26.5077 14.9163C26.5077 14.7516 26.4752 14.5886 26.4119 14.4365C26.3487 14.2845 26.256 14.1465 26.1391 14.0304V13.9836ZM14.6501 25.098L11.7934 25.7302L12.4881 22.897L20.5117 14.7875L22.7127 16.9885L14.6501 25.098ZM23.5947 16.1066L21.3937 13.9055L22.6347 12.6801L24.8513 14.8968L23.5947 16.1066Z" fill="white" />
        //     </svg>,
        //     label: "Biểu mẫu nhân viên",
        //     isSubmenu: false,
        //     externalLink: '#',
        // },
        // {
        //     icon: <svg xmlns="http://www.w3.org/2000/svg" width="19" height="28" viewBox="0 0 19 28" fill="none">
        //         <path d="M9.50001 0.0708008C8.04264 0.0708008 6.92028 1.29417 6.92028 2.75696C6.92028 4.16589 6.91046 5.39862 6.91046 5.39862H4.31923C4.27046 5.39862 4.22327 5.40404 4.17674 5.41181H3.45604V7.9447H15.544V5.41181H14.8233C14.7767 5.40404 14.7295 5.39862 14.6808 5.39862H12.0896C12.0896 5.39862 12.1191 4.28271 12.1191 2.7652C12.1191 1.35625 10.9574 0.0708008 9.50001 0.0708008ZM0 2.63996V27.0708H19V2.63996H12.9806V4.40986H17.2605V25.2976H1.74113V4.40986H6.0194V2.63996H0ZM9.50001 2.6729C9.97747 2.6729 10.3632 3.05945 10.3632 3.53807C10.3632 4.01757 9.97747 4.40489 9.50001 4.40489C9.02256 4.40489 8.63681 4.01755 8.63681 3.53807C8.63681 3.05948 9.02256 2.6729 9.50001 2.6729ZM3.45604 9.66188V10.5287H4.31923V9.66188H3.45604ZM6.04724 9.67835V10.5452H15.544V9.67835H6.04724ZM3.45604 12.9314V13.7982H4.31923V12.9314H3.45604ZM6.04724 12.9479V13.8163H15.544V12.9479H6.04724ZM3.45604 16.2009V17.0678H4.31923V16.2009H3.45604ZM6.04724 16.2191V17.0859H15.544V16.2191H6.04724ZM3.45604 19.4721V20.3389H4.31923V19.4721H3.45604ZM6.04724 19.4902V20.357H15.544V19.4902H6.04724ZM3.45604 22.7416V23.6085H4.31923V22.7416H3.45604ZM6.04724 22.7598V23.6266H15.544V22.7598H6.04724Z" fill="white" />
        //     </svg>,
        //     label: "Cẩm nang tìm việc",
        //     isSubmenu: false,
        //     externalLink: "#",
        // },
        {

            icon: <svg xmlns="http://www.w3.org/2000/svg" width="27" height="24" viewBox="0 0 27 24" fill="none">
                <path d="M11.8048 12.652C11.5052 12.6386 11.2057 12.6252 10.8925 12.6252C7.59754 12.6252 4.5204 13.5213 1.89258 15.0594C0.694399 15.7549 0 17.0656 0 18.4431V21.9874H12.6081C11.6464 20.6398 11.0654 19.066 10.9243 17.4261C10.7832 15.7863 11.087 14.139 11.8048 12.652Z" fill="white" />
                <path d="M10.8916 11.288C13.8995 11.288 16.3378 8.89277 16.3378 5.93817C16.3378 2.98356 13.8995 0.588379 10.8916 0.588379C7.88369 0.588379 5.44531 2.98356 5.44531 5.93817C5.44531 8.89277 7.88369 11.288 10.8916 11.288Z" fill="white" />
                <path d="M25.5299 16.6379C25.5299 16.3437 25.489 16.0762 25.4482 15.7953L27.0004 14.4445L25.6388 12.1307L23.6645 12.7861C23.2288 12.425 22.7387 12.1441 22.1941 11.9435L21.7856 9.95068H19.0625L18.654 11.9435C18.1094 12.1441 17.6192 12.425 17.1835 12.7861L15.2092 12.1307L13.8477 14.4445L15.3998 15.7953C15.359 16.0762 15.3181 16.3437 15.3181 16.6379C15.3181 16.9322 15.359 17.1996 15.3998 17.4805L13.8477 18.8313L15.2092 21.1451L17.1835 20.4898C17.6192 20.8509 18.1094 21.1317 18.654 21.3324L19.0625 23.3252H21.7856L22.1941 21.3324C22.7387 21.1317 23.2288 20.8509 23.6645 20.4898L25.6388 21.1451L27.0004 18.8313L25.4482 17.4805C25.489 17.1996 25.5299 16.9322 25.5299 16.6379ZM20.424 19.3128C18.9263 19.3128 17.7009 18.1091 17.7009 16.6379C17.7009 15.1667 18.9263 13.963 20.424 13.963C21.9217 13.963 23.1471 15.1667 23.1471 16.6379C23.1471 18.1091 21.9217 19.3128 20.424 19.3128Z" fill="white" />
            </svg>,
            label: "Quản lý tài khoản",
            isSubmenu: true,
            links: [
                // { href: "/tai-khoan/cap-nhat-thong-tin", label: "Cập nhật thông tin" },
                { href: "/ung-vien/doi-mat-khau", label: "Đổi mật khẩu" },
            ],
        },
    ];
    const router = useRouter();
    const { asPath } = router;
    const [isPathLoaded, setPathLoaded] = useState(false);
    useEffect(() => {
        if (asPath && !isPathLoaded) {
            setPathLoaded(true);
        }
    }, [asPath]);
    const [activeSubmenu, setActiveSubmenu] = useState(null);
    const handleMenuClick = (index: any) => {
        if (activeSubmenu === index) {
            setActiveSubmenu(null); // Đóng submenu nếu nó đang mở
        } else {
            setActiveSubmenu(index); // Mở submenu nếu nó đang đóng
        }
    };

    const [shouldRender, setShouldRender] = useState(false);

    useEffect(() => {
        setShouldRender(menuItems.some((menuItem: any) => {
            if (menuItem.isSubmenu) {
                return menuItem.links.some((link: any) => link.href === asPath);
            } else {
                return menuItem.externalLink === asPath || menuItem.href === asPath;
            }
        }))
    }, [asPath]);
    const isPathInSubmenu = (links: any[]) => {
        return links.some((link: any) => link.href === asPath);
    }

    return (
        <div className={styles.danhmuc_ql}>
            <div className={styles.danhmuc_link}>
                <ul>
                    {menuItems.map((item, index) => (
                        <React.Fragment key={index}>
                            <li
                                className={
                                    styles.dmql + ' ' +
                                    (item.isSubmenu ? styles.mt_ql : "") + ' ' +
                                    (index === 0 ? styles.ic2 : styles.ic1) + ' ' +
                                    (isPathLoaded && asPath === item.externalLink ? styles.li_active : "") + ' ' +
                                    ((shouldRender && isPathInSubmenu(item.links ? item.links : [])) || activeSubmenu === index ? "" : styles.active)
                                }
                                onClick={() => item.isSubmenu && handleMenuClick(index)}
                            >
                                <div className={styles.v_img}>
                                    {item.icon}
                                </div>
                                {item.isSubmenu ? (
                                    <span className={styles.v_text}>{item.label}</span>
                                ) : (
                                    <Link href={item.externalLink ? item.externalLink : ''}>
                                        <span className={styles.v_text}>{item.label}</span>
                                    </Link>
                                )}
                            </li>
                            {item.isSubmenu && (
                                <ul className={`${styles.ex_dm} ${(shouldRender && isPathInSubmenu(item.links ? item.links : [])) || activeSubmenu === index ? styles.show : ""}`}
                                    style={{ overflow: "hidden" }}
                                >
                                    {item.links && item.links.map((link, linkIndex) => (
                                        <li key={linkIndex} className={(shouldRender && asPath === link.href ? styles.li_active : '')}>
                                            <Link href={link.href ? link.href : ''}>{link.label}</Link>
                                        </li>
                                    ))}
                                </ul>
                            )}
                        </React.Fragment>
                    ))}
                </ul>
            </div>

        </div>
    )
}

export default SidebarTimViec
