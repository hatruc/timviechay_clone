/* eslint-disable @next/next/no-img-element */
import React, { Fragment, useContext, useEffect, useRef, useState } from 'react'
import s from './menu-account.module.css'
import Cookies from 'js-cookie';
import { cookieId, cookieLogin, cookieLogo, cookieName, cookiePhone, logOut } from '../service/functions';
import { useRouter } from 'next/router';
import Item from 'antd/es/list/Item';
import { NTD_UV_Context } from '../context/ntd_uv_context';
import { POST } from '@/pages/api/base-api';
import Link from 'next/link';
import { createLinkTilte, handleImageSource } from '@/functions/functions';
import Image from 'next/image';

const listMenuCompany: any[] = [
    {
        id: 1, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M1.66663 10.7334V9.26669C1.66663 8.40003 2.37496 7.68336 3.24996 7.68336C4.75829 7.68336 5.37496 6.6167 4.61663 5.30836C4.18329 4.55836 4.44163 3.58336 5.19996 3.15003L6.64163 2.32503C7.29996 1.93336 8.14996 2.1667 8.54163 2.82503L8.63329 2.98336C9.38329 4.2917 10.6166 4.2917 11.375 2.98336L11.4666 2.82503C11.8583 2.1667 12.7083 1.93336 13.3666 2.32503L14.8083 3.15003C15.5666 3.58336 15.825 4.55836 15.3916 5.30836C14.6333 6.6167 15.25 7.68336 16.7583 7.68336C17.625 7.68336 18.3416 8.39169 18.3416 9.26669V10.7334C18.3416 11.6 17.6333 12.3167 16.7583 12.3167C15.25 12.3167 14.6333 13.3834 15.3916 14.6917C15.825 15.45 15.5666 16.4167 14.8083 16.85L13.3666 17.675C12.7083 18.0667 11.8583 17.8334 11.4666 17.175L11.375 17.0167C10.625 15.7084 9.39163 15.7084 8.63329 17.0167L8.54163 17.175C8.14996 17.8334 7.29996 18.0667 6.64163 17.675L5.19996 16.85C4.44163 16.4167 4.18329 15.4417 4.61663 14.6917C5.37496 13.3834 4.75829 12.3167 3.24996 12.3167C2.37496 12.3167 1.66663 11.6 1.66663 10.7334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
        </svg>, href: '/nha-tuyen-dung/quan-ly-chung', name: 'Quản lý chung',
        listObjChildren: []
    },
    {
        id: 1, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
            <path d="M17.0833 9.91668V6.36669C17.0833 3.00836 16.3 2.16669 13.15 2.16669H6.84996C3.69996 2.16669 2.91663 3.00836 2.91663 6.36669V15.75C2.91663 17.9667 4.1333 18.4917 5.6083 16.9084L5.61662 16.9C6.29995 16.175 7.34162 16.2333 7.93328 17.025L8.77496 18.15" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M6.66663 6.33331H13.3333" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M7.5 9.66669H12.5" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M15.175 12.8083L12.225 15.7583C12.1084 15.875 12 16.0917 11.975 16.25L11.8167 17.375C11.7584 17.7833 12.0417 18.0667 12.45 18.0083L13.575 17.85C13.7334 17.825 13.9584 17.7167 14.0667 17.6L17.0167 14.65C17.525 14.1417 17.7667 13.55 17.0167 12.8C16.275 12.0583 15.6834 12.3 15.175 12.8083Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M14.75 13.2333C15 14.1333 15.7 14.8333 16.6 15.0833" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
        </svg>, href: '/nha-tuyen-dung/dang-tin-moi', name: 'Đăng tin', listObjChildren: []
    },
    // {
    //     id: 2, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    //         <path d="M7.13541 12.3456C7.20291 12.3729 7.27885 12.3731 7.34648 12.3462C7.41412 12.3193 7.46796 12.2675 7.49611 12.2022L7.88495 11.2995H9.35591L9.74475 12.2022C9.80338 12.3381 9.96489 12.4024 10.1054 12.3457C10.246 12.289 10.3124 12.1328 10.2538 11.9969L8.87498 8.79687C8.83215 8.69753 8.73176 8.63281 8.62046 8.63281C8.50915 8.63281 8.40876 8.69753 8.36593 8.79687L6.98709 11.9969C6.95892 12.0621 6.95873 12.1356 6.98655 12.201C7.01437 12.2664 7.06789 12.3184 7.13541 12.3456ZM8.62043 9.59284L9.12592 10.7662H8.11494L8.62043 9.59284Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.3" />
    //         <path fillRule="evenodd" clipRule="evenodd" d="M10.8266 11.8328C10.6742 11.8328 10.5508 11.9522 10.5508 12.0995C10.5508 12.2468 10.6742 12.3662 10.8266 12.3662H12.4812C12.6335 12.3662 12.757 12.2468 12.757 12.0995C12.757 11.9522 12.6335 11.8328 12.4812 11.8328H11.9296V9.16616H12.4812C12.6335 9.16616 12.757 9.04677 12.757 8.89948C12.757 8.7522 12.6335 8.63281 12.4812 8.63281H10.8266C10.6742 8.63281 10.5508 8.7522 10.5508 8.89948C10.5508 9.04677 10.6742 9.16616 10.8266 9.16616H11.3781V11.8328H10.8266Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.3" />
    //         <path d="M2.00199 14.2332C2.00199 14.8223 2.49587 15.2999 3.10506 15.2999C3.24323 15.2994 3.38005 15.2735 3.50823 15.2236C4.16015 15.7063 5.08013 15.958 6.21077 15.958C6.38119 15.958 6.55825 15.9503 6.73776 15.9391C7.5386 17.5215 8.69407 18.4999 9.99929 18.4999C11.3045 18.4999 12.46 17.5215 13.2611 15.9399C13.4409 15.9511 13.6177 15.9588 13.7881 15.9588C14.9187 15.9588 15.8387 15.7071 16.4906 15.2244C16.6188 15.274 16.7555 15.2996 16.8935 15.2999C17.3804 15.2985 17.8088 14.9887 17.9476 14.5374C18.0865 14.0862 17.903 13.6002 17.4961 13.3417C17.5347 12.4831 17.1913 11.5087 16.4925 10.4999C17.1913 9.49134 17.5347 8.51693 17.4961 7.65799C17.9728 7.36048 18.1375 6.76124 17.8765 6.27409C17.6154 5.78694 17.0141 5.57155 16.4878 5.77665C15.7386 5.22226 14.6322 4.97666 13.2613 5.06306C12.4611 3.47935 11.3051 2.49988 9.99931 2.49988C8.69353 2.49988 7.53751 3.47935 6.7364 5.06308C5.36611 4.97721 4.26027 5.22307 3.50989 5.77667C2.98396 5.57323 2.38421 5.78893 2.12358 6.27527C1.86295 6.76161 2.02653 7.35983 2.50167 7.65802C2.46362 8.51643 2.80722 9.49081 3.50604 10.4999C2.80722 11.5087 2.46362 12.4831 2.50252 13.3418C2.19062 13.538 2.00234 13.8734 2.00199 14.2332ZM2.55354 14.2332C2.55354 13.9387 2.80046 13.6999 3.10509 13.6999C3.40971 13.6999 3.65664 13.9386 3.65664 14.2332C3.65664 14.5278 3.40971 14.7666 3.10509 14.7666C2.9588 14.7666 2.81851 14.7104 2.71508 14.6103C2.61165 14.5103 2.55354 14.3747 2.55354 14.2332ZM7.07865 5.62522C7.8128 5.71022 8.53609 5.86722 9.23737 6.09376C8.74377 6.30679 8.26173 6.54407 7.79317 6.8047C7.32296 7.06712 6.86749 7.35348 6.42866 7.66256C6.57324 6.96388 6.79104 6.28123 7.07865 5.62522ZM13.5697 7.66256C13.131 7.35345 12.6756 7.06707 12.2055 6.8047C11.7376 6.54438 11.2564 6.3071 10.7637 6.09376C11.4643 5.86732 12.1868 5.71036 12.9203 5.62522C13.2077 6.28125 13.4253 6.96388 13.5697 7.66256ZM12.92 15.3746C12.1858 15.2896 11.4625 15.1326 10.7613 14.906C11.2549 14.693 11.7369 14.4557 12.2055 14.1951C12.6757 13.9327 13.1311 13.6463 13.57 13.3372C13.4254 14.0359 13.2076 14.7185 12.92 15.3746ZM11.9297 7.26682C12.5516 7.61291 13.1461 8.00303 13.7084 8.43402C13.8098 9.11827 13.8605 9.80866 13.8601 10.4999C13.8606 11.1911 13.81 11.8815 13.7087 12.5658C13.1463 12.9967 12.5517 13.3869 11.9297 13.733C11.3097 14.0797 10.6646 14.3825 9.99931 14.6391C9.33402 14.3824 8.68886 14.0794 8.06892 13.7324C7.44702 13.3863 6.85251 12.9962 6.29021 12.5652C6.08834 11.1949 6.08834 9.80381 6.29021 8.43347C6.85254 8.00269 7.44708 7.61275 8.06892 7.26679C8.68941 6.91979 9.33513 6.61677 10.001 6.36012C10.6657 6.6169 11.3103 6.91992 11.9297 7.26682ZM14.3289 8.93802C14.8789 9.40888 15.3785 9.93214 15.82 10.4999C15.3791 11.0675 14.8802 11.5908 14.3309 12.0618C14.385 11.5428 14.412 11.0215 14.4117 10.4999C14.4118 9.97828 14.3846 9.45698 14.3303 8.93802H14.3289ZM5.66973 12.0618C5.11956 11.591 4.61999 11.0677 4.17863 10.4999C4.61953 9.93225 5.11842 9.40898 5.66777 8.93802C5.55929 9.97663 5.55929 11.0232 5.66777 12.0618H5.66973ZM7.7948 14.1951C8.26268 14.4554 8.74388 14.6927 9.23653 14.906C8.53595 15.1325 7.81342 15.2894 7.08 15.3746C6.79248 14.7185 6.57478 14.0359 6.43029 13.3372C6.86855 13.6463 7.32348 13.9327 7.79315 14.1951H7.7948ZM9.99931 17.9666C8.96352 17.9666 8.02232 17.1722 7.3282 15.8836C8.24216 15.7583 9.13834 15.5325 9.99931 15.2106C10.8606 15.5327 11.7572 15.7585 12.6715 15.8836C11.976 17.1722 11.0351 17.9666 9.99931 17.9666ZM16.8936 14.7666C16.589 14.7666 16.342 14.5278 16.342 14.2332C16.342 13.9386 16.5889 13.6999 16.8936 13.6999C17.1982 13.6999 17.4451 13.9386 17.4451 14.2332C17.4451 14.5278 17.1982 14.7666 16.8936 14.7666ZM16.9515 13.1721C16.9319 13.1721 16.9134 13.1666 16.8935 13.1666C16.2843 13.1666 15.7905 13.6441 15.7905 14.2332C15.7915 14.4717 15.876 14.7028 16.0301 14.8889C15.4295 15.2721 14.5528 15.4543 13.5027 15.4161C13.8446 14.5902 14.0869 13.7288 14.2249 12.8492C14.9382 12.2938 15.5837 11.6616 16.149 10.9649C16.6146 11.6186 16.8916 12.3805 16.9515 13.1721ZM17.4451 6.76654C17.4451 7.06109 17.1982 7.29989 16.8935 7.29989C16.5889 7.29989 16.342 7.06111 16.342 6.76654C16.342 6.47197 16.5889 6.2332 16.8935 6.2332C17.1982 6.2332 17.4451 6.472 17.4451 6.76654ZM16.0301 6.11082C15.876 6.29697 15.7915 6.52808 15.7905 6.76654C15.7905 7.35566 16.2843 7.8332 16.8935 7.8332C16.9134 7.8332 16.9319 7.82866 16.9515 7.82761C16.8917 8.61926 16.6147 9.38116 16.149 10.0348C15.5836 9.33809 14.938 8.70591 14.2247 8.15055C14.0865 7.27089 13.8438 6.40954 13.5016 5.58362C14.5526 5.54522 15.4298 5.72655 16.0301 6.11082ZM9.99931 3.03322C11.0351 3.03322 11.9763 3.82762 12.6704 5.11615C11.7569 5.24155 10.8612 5.46736 10.0007 5.78922C9.13939 5.46712 8.24284 5.24131 7.3285 5.11615C8.02259 3.82762 8.96352 3.03322 9.99931 3.03322ZM3.10506 6.23323C3.40966 6.23323 3.65661 6.472 3.65661 6.76657C3.65661 7.06114 3.40969 7.29991 3.10506 7.29991C2.80044 7.29991 2.55351 7.06114 2.55351 6.76657C2.55351 6.472 2.80046 6.23323 3.10506 6.23323ZM3.04717 7.82761C3.06674 7.82761 3.08522 7.8332 3.10509 7.8332C3.71431 7.8332 4.20816 7.35563 4.20816 6.76654C4.20713 6.52808 4.12267 6.29695 3.96851 6.11082C4.56886 5.72762 5.44552 5.54575 6.49594 5.58362C6.15405 6.40959 5.91169 7.27094 5.7737 8.15055C5.06051 8.70591 4.415 9.33799 3.84966 10.0345C3.38388 9.38103 3.10685 8.6192 3.04717 7.82761ZM3.84966 10.9652C4.41527 11.6617 5.06094 12.2938 5.77425 12.8492C5.91239 13.7289 6.15492 14.5904 6.49705 15.4164C5.44747 15.4548 4.57024 15.2721 3.96962 14.8889C4.12337 14.7027 4.20743 14.4715 4.20816 14.2332C4.20816 13.6441 3.71428 13.1666 3.10509 13.1666C3.08522 13.1666 3.06677 13.1714 3.04717 13.1721C3.10696 12.3806 3.38396 11.6188 3.84966 10.9652Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.4" />
    //     </svg>, href: '', name: 'Ứng viên gợi ý từ WorkAI', listObjChildren: []
    // },
    {
        id: 3, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="7.49996" cy="4.99999" r="3.33333" stroke="#3582CD" strokeWidth="1.5" />
            <path d="M12.5 7.5C13.8807 7.5 15 6.38071 15 5C15 3.61929 13.8807 2.5 12.5 2.5" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
            <ellipse cx="7.49996" cy="14.1667" rx="5.83333" ry="3.33333" stroke="#3582CD" strokeWidth="1.5" />
            <path d="M15 11.6667C16.4619 11.9872 17.5 12.7991 17.5 13.75C17.5 14.6078 16.6552 15.3524 15.4167 15.7254" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
        </svg>, href: '/nha-tuyen-dung/ung-vien-den-ung-tuyen', name: 'Ứng viên ứng tuyển', listObjChildren: []
    },
    {
        id: 4, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="7.50004" cy="7.50001" r="1.66667" stroke="#3582CD" />
            <path d="M10.8333 12.5C10.8333 13.4205 10.8333 14.1667 7.49996 14.1667C4.16663 14.1667 4.16663 13.4205 4.16663 12.5C4.16663 11.5795 5.65901 10.8333 7.49996 10.8333C9.34091 10.8333 10.8333 11.5795 10.8333 12.5Z" stroke="#3582CD" />
            <path d="M1.66663 10C1.66663 6.85731 1.66663 5.28596 2.64294 4.30965C3.61925 3.33334 5.1906 3.33334 8.33329 3.33334H11.6666C14.8093 3.33334 16.3807 3.33334 17.357 4.30965C18.3333 5.28596 18.3333 6.85731 18.3333 10C18.3333 13.1427 18.3333 14.7141 17.357 15.6904C16.3807 16.6667 14.8093 16.6667 11.6666 16.6667H8.33329C5.1906 16.6667 3.61925 16.6667 2.64294 15.6904C1.66663 14.7141 1.66663 13.1427 1.66663 10Z" stroke="#3582CD" strokeWidth="1.5" />
            <path d="M15.8334 10H12.5" stroke="#3582CD" strokeLinecap="round" />
            <path d="M15.8334 7.5H11.6667" stroke="#3582CD" strokeLinecap="round" />
            <path d="M15.8334 12.5H13.3334" stroke="#3582CD" strokeLinecap="round" />
        </svg>, href: '/nha-tuyen-dung/chuyen-vien-gui-ung-vien', name: 'Chuyên viên gửi ứng viên', listObjChildren: []
    },
    // {
    //     id: 5, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    //         <circle cx="9.99996" cy="4.99999" r="3.33333" stroke="#3582CD" strokeWidth="1.5" />
    //         <path d="M12.9868 17.0305C12.1131 17.3287 11.0915 17.5 9.99996 17.5C6.7783 17.5 4.16663 16.0076 4.16663 14.1667C4.16663 12.3257 6.7783 10.8333 9.99996 10.8333C12.1736 10.8333 14.0695 11.5127 15.073 12.52" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
    //         <path d="M15 15.4167C15.3254 15.7421 15.5079 15.9246 15.8333 16.25L17.5 14.1667" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
    //     </svg>, href: '', name: 'Cộng tác viên gửi ứng viên', listObjChildren: []
    // },
    {
        id: 6, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M18.3333 7.49999C18.3333 3.33332 16.6666 1.66666 12.5 1.66666H7.49996C3.33329 1.66666 1.66663 3.33332 1.66663 7.49999V12.5C1.66663 16.6667 3.33329 18.3333 7.49996 18.3333H12.5C16.6666 18.3333 18.3333 16.6667 18.3333 12.5V10.8083" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M5.83337 4.15832V2.03333" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M14.1667 2.03333V10.35C14.1667 11.9917 12.9917 12.6333 11.55 11.7667L10.45 11.1083C10.2 10.9583 9.80004 10.9583 9.55004 11.1083L8.45004 11.7667C7.00837 12.625 5.83337 11.9917 5.83337 10.35V7.49999" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
        </svg>, href: '/nha-tuyen-dung/ho-so-ung-vien-da-luu', name: 'Hồ sơ ứng viên đã lưu', listObjChildren: []
    },
    {
        id: 7, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M4.16666 8.33335H5.83333C7.5 8.33335 8.33333 7.50002 8.33333 5.83335V4.16669C8.33333 2.50002 7.5 1.66669 5.83333 1.66669H4.16666C2.5 1.66669 1.66666 2.50002 1.66666 4.16669V5.83335C1.66666 7.50002 2.5 8.33335 4.16666 8.33335Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M14.1667 8.33335H15.8333C17.5 8.33335 18.3333 7.50002 18.3333 5.83335V4.16669C18.3333 2.50002 17.5 1.66669 15.8333 1.66669H14.1667C12.5 1.66669 11.6667 2.50002 11.6667 4.16669V5.83335C11.6667 7.50002 12.5 8.33335 14.1667 8.33335Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M14.1667 18.3334H15.8333C17.5 18.3334 18.3333 17.5 18.3333 15.8334V14.1667C18.3333 12.5 17.5 11.6667 15.8333 11.6667H14.1667C12.5 11.6667 11.6667 12.5 11.6667 14.1667V15.8334C11.6667 17.5 12.5 18.3334 14.1667 18.3334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M4.16666 18.3334H5.83333C7.5 18.3334 8.33333 17.5 8.33333 15.8334V14.1667C8.33333 12.5 7.5 11.6667 5.83333 11.6667H4.16666C2.5 11.6667 1.66666 12.5 1.66666 14.1667V15.8334C1.66666 17.5 2.5 18.3334 4.16666 18.3334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
        </svg>, href: '', name: 'Quản lý tài khoản', listObjChildren: [
            {
                id: 1000,
                itemLeft: 'Đổi mật khẩu',
                itemRight: 'Thông tin cá nhân',
                hrefLeft: '/nha-tuyen-dung/doi-mat-khau',
                hrefRight: '/nha-tuyen-dung/cap-nhat-thong-tin'
            },
            // {
            //     id: 1001,
            //     itemLeft: 'QR tài khoản',
            //     itemRight: 'Thông báo',
            //     hrefLeft: '',
            //     hrefRight: ''
            // },
            // {
            //     id: 1002,
            //     itemLeft: 'Thông tin chuyên viên hỗ trợ',
            //     itemRight: '',
            //     hrefLeft: '',
            //     hrefRight: ''
            // },
        ]
    },

]


const MenuAccount = ({ isOpen, isTongle, checkAccount, setCheckLogin }: any) => {
    const router = useRouter();
    const id = Cookies.get('id')
    const { name, phone, ava, point, percentHoSo, candiAllowSearch, setCandiAllowSearch, setCandiAllowEmployerSearch } = useContext(NTD_UV_Context);

    const listMenuPerson: any[] = [
        {
            id: 1, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M1.66663 10.7334V9.26669C1.66663 8.40003 2.37496 7.68336 3.24996 7.68336C4.75829 7.68336 5.37496 6.6167 4.61663 5.30836C4.18329 4.55836 4.44163 3.58336 5.19996 3.15003L6.64163 2.32503C7.29996 1.93336 8.14996 2.1667 8.54163 2.82503L8.63329 2.98336C9.38329 4.2917 10.6166 4.2917 11.375 2.98336L11.4666 2.82503C11.8583 2.1667 12.7083 1.93336 13.3666 2.32503L14.8083 3.15003C15.5666 3.58336 15.825 4.55836 15.3916 5.30836C14.6333 6.6167 15.25 7.68336 16.7583 7.68336C17.625 7.68336 18.3416 8.39169 18.3416 9.26669V10.7334C18.3416 11.6 17.6333 12.3167 16.7583 12.3167C15.25 12.3167 14.6333 13.3834 15.3916 14.6917C15.825 15.45 15.5666 16.4167 14.8083 16.85L13.3666 17.675C12.7083 18.0667 11.8583 17.8334 11.4666 17.175L11.375 17.0167C10.625 15.7084 9.39163 15.7084 8.63329 17.0167L8.54163 17.175C8.14996 17.8334 7.29996 18.0667 6.64163 17.675L5.19996 16.85C4.44163 16.4167 4.18329 15.4417 4.61663 14.6917C5.37496 13.3834 4.75829 12.3167 3.24996 12.3167C2.37496 12.3167 1.66663 11.6 1.66663 10.7334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            </svg>, href: '/ung-vien/quan-ly-chung', name: 'Quản lý chung',
            listObjChildren: []
        },
        {
            id: 2, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M12.55 16.1583C12.0334 16.5083 11.3834 16.8 10.5917 17.0583L9.27504 17.4917C5.96671 18.5583 4.22504 17.6667 3.15004 14.3583L2.08337 11.0667C1.01671 7.75833 1.90004 6.00833 5.20837 4.94167L6.52504 4.50833C6.86671 4.4 7.19171 4.30833 7.50004 4.25C7.25004 4.75833 7.05004 5.375 6.88337 6.08333L6.06671 9.575C5.25004 13.0583 6.32504 14.775 9.80004 15.6L11.2 15.9333C11.6834 16.05 12.1334 16.125 12.55 16.1583Z" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M10.5333 7.10834L14.575 8.13334" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M9.71667 10.3333L12.1333 10.95" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M17.4667 4.24999C18.3667 5.24999 18.525 6.68332 18.05 8.69999L17.2333 12.1833C16.5333 15.1917 15.15 16.4083 12.55 16.1583C12.1333 16.125 11.6833 16.05 11.2 15.9333L9.79999 15.6C6.32499 14.775 5.24999 13.0583 6.06665 9.57499L6.88332 6.08332C7.04999 5.37499 7.24999 4.75832 7.49999 4.24999C8.47499 2.23332 10.1333 1.69165 12.9167 2.34999L14.3083 2.67499" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            </svg>
            , href: '', name: 'Hồ sơ xin việc', listObjChildren: [
                {
                    id: 1000,
                    itemLeft: 'CV xin việc',
                    itemRight: 'Upload CV',
                    hrefLeft: '/ung-vien/CV-xin-viec',
                    hrefRight: '/ung-vien/tai-len-ho-so'
                },
                // {
                //     id: 1001,
                //     itemLeft: 'Đơn xin việc ',
                //     itemRight: 'Thư xin việc',
                //     hrefLeft: '/ung-vien/don-xin-viec ',
                //     hrefRight: '/ung-vien/thu-xin-viec'
                // },
                {
                    id: 1002,
                    itemLeft: 'File tải lên ',
                    itemRight: 'Video tải lên',
                    hrefLeft: '/ung-vien/tai-len-ho-so',
                    hrefRight: '/ung-vien/tai-len-ho-so'
                },
            ]
        },
        {
            id: 3, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="7.50004" cy="7.50001" r="1.66667" stroke="#3582CD" strokeWidth="1.5" />
                <path d="M10.8333 12.5C10.8333 13.4205 10.8333 14.1667 7.49996 14.1667C4.16663 14.1667 4.16663 13.4205 4.16663 12.5C4.16663 11.5795 5.65901 10.8333 7.49996 10.8333C9.34091 10.8333 10.8333 11.5795 10.8333 12.5Z" stroke="#3582CD" strokeWidth="1.5" />
                <path d="M1.66663 10C1.66663 6.85731 1.66663 5.28596 2.64294 4.30965C3.61925 3.33334 5.1906 3.33334 8.33329 3.33334H11.6666C14.8093 3.33334 16.3807 3.33334 17.357 4.30965C18.3333 5.28596 18.3333 6.85731 18.3333 10C18.3333 13.1427 18.3333 14.7141 17.357 15.6904C16.3807 16.6667 14.8093 16.6667 11.6666 16.6667H8.33329C5.1906 16.6667 3.61925 16.6667 2.64294 15.6904C1.66663 14.7141 1.66663 13.1427 1.66663 10Z" stroke="#3582CD" strokeWidth="1.5" />
                <path d="M15.8334 10H12.5" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
                <path d="M15.8334 7.5H11.6667" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
                <path d="M15.8334 12.5H13.3334" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" />
            </svg>, href: '', name: 'Hoàn thiện hồ sơ', listObjChildren: [
                {
                    id: 1001,
                    itemLeft: `Tiến trình hoàn thiện hồ sơ ${percentHoSo ? percentHoSo + '%' : '0%'}`,
                    itemRight: '',
                    hrefLeft: '',
                    hrefRight: ''
                },
                {
                    id: 1002,
                    itemLeft: 'Làm mới hồ sơ',
                    itemRight: '',
                    hrefLeft: '',
                    hrefRight: ''
                }
            ]
        },
        // {
        //     id: 4, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
        //         <path d="M7.13541 12.3456C7.20291 12.3729 7.27885 12.3731 7.34648 12.3462C7.41412 12.3193 7.46796 12.2675 7.49611 12.2022L7.88495 11.2995H9.35591L9.74475 12.2022C9.80338 12.3381 9.96489 12.4024 10.1054 12.3457C10.246 12.289 10.3124 12.1328 10.2538 11.9969L8.87498 8.79687C8.83215 8.69753 8.73176 8.63281 8.62046 8.63281C8.50915 8.63281 8.40876 8.69753 8.36593 8.79687L6.98709 11.9969C6.95892 12.0621 6.95873 12.1356 6.98655 12.201C7.01437 12.2664 7.06789 12.3184 7.13541 12.3456ZM8.62043 9.59284L9.12592 10.7662H8.11494L8.62043 9.59284Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.3" />
        //         <path fillRule="evenodd" clipRule="evenodd" d="M10.8266 11.8328C10.6742 11.8328 10.5508 11.9522 10.5508 12.0995C10.5508 12.2468 10.6742 12.3662 10.8266 12.3662H12.4812C12.6335 12.3662 12.757 12.2468 12.757 12.0995C12.757 11.9522 12.6335 11.8328 12.4812 11.8328H11.9296V9.16616H12.4812C12.6335 9.16616 12.757 9.04677 12.757 8.89948C12.757 8.7522 12.6335 8.63281 12.4812 8.63281H10.8266C10.6742 8.63281 10.5508 8.7522 10.5508 8.89948C10.5508 9.04677 10.6742 9.16616 10.8266 9.16616H11.3781V11.8328H10.8266Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.3" />
        //         <path d="M2.00199 14.2332C2.00199 14.8223 2.49587 15.2999 3.10506 15.2999C3.24323 15.2994 3.38005 15.2735 3.50823 15.2236C4.16015 15.7063 5.08013 15.958 6.21077 15.958C6.38119 15.958 6.55825 15.9503 6.73776 15.9391C7.5386 17.5215 8.69407 18.4999 9.99929 18.4999C11.3045 18.4999 12.46 17.5215 13.2611 15.9399C13.4409 15.9511 13.6177 15.9588 13.7881 15.9588C14.9187 15.9588 15.8387 15.7071 16.4906 15.2244C16.6188 15.274 16.7555 15.2996 16.8935 15.2999C17.3804 15.2985 17.8088 14.9887 17.9476 14.5374C18.0865 14.0862 17.903 13.6002 17.4961 13.3417C17.5347 12.4831 17.1913 11.5087 16.4925 10.4999C17.1913 9.49134 17.5347 8.51693 17.4961 7.65799C17.9728 7.36048 18.1375 6.76124 17.8765 6.27409C17.6154 5.78694 17.0141 5.57155 16.4878 5.77665C15.7386 5.22226 14.6322 4.97666 13.2613 5.06306C12.4611 3.47935 11.3051 2.49988 9.99931 2.49988C8.69353 2.49988 7.53751 3.47935 6.7364 5.06308C5.36611 4.97721 4.26027 5.22307 3.50989 5.77667C2.98396 5.57323 2.38421 5.78893 2.12358 6.27527C1.86295 6.76161 2.02653 7.35983 2.50167 7.65802C2.46362 8.51643 2.80722 9.49081 3.50604 10.4999C2.80722 11.5087 2.46362 12.4831 2.50252 13.3418C2.19062 13.538 2.00234 13.8734 2.00199 14.2332ZM2.55354 14.2332C2.55354 13.9387 2.80046 13.6999 3.10509 13.6999C3.40971 13.6999 3.65664 13.9386 3.65664 14.2332C3.65664 14.5278 3.40971 14.7666 3.10509 14.7666C2.9588 14.7666 2.81851 14.7104 2.71508 14.6103C2.61165 14.5103 2.55354 14.3747 2.55354 14.2332ZM7.07865 5.62522C7.8128 5.71022 8.53609 5.86722 9.23737 6.09376C8.74377 6.30679 8.26173 6.54407 7.79317 6.8047C7.32296 7.06712 6.86749 7.35348 6.42866 7.66256C6.57324 6.96388 6.79104 6.28123 7.07865 5.62522ZM13.5697 7.66256C13.131 7.35345 12.6756 7.06707 12.2055 6.8047C11.7376 6.54438 11.2564 6.3071 10.7637 6.09376C11.4643 5.86732 12.1868 5.71036 12.9203 5.62522C13.2077 6.28125 13.4253 6.96388 13.5697 7.66256ZM12.92 15.3746C12.1858 15.2896 11.4625 15.1326 10.7613 14.906C11.2549 14.693 11.7369 14.4557 12.2055 14.1951C12.6757 13.9327 13.1311 13.6463 13.57 13.3372C13.4254 14.0359 13.2076 14.7185 12.92 15.3746ZM11.9297 7.26682C12.5516 7.61291 13.1461 8.00303 13.7084 8.43402C13.8098 9.11827 13.8605 9.80866 13.8601 10.4999C13.8606 11.1911 13.81 11.8815 13.7087 12.5658C13.1463 12.9967 12.5517 13.3869 11.9297 13.733C11.3097 14.0797 10.6646 14.3825 9.99931 14.6391C9.33402 14.3824 8.68886 14.0794 8.06892 13.7324C7.44702 13.3863 6.85251 12.9962 6.29021 12.5652C6.08834 11.1949 6.08834 9.80381 6.29021 8.43347C6.85254 8.00269 7.44708 7.61275 8.06892 7.26679C8.68941 6.91979 9.33513 6.61677 10.001 6.36012C10.6657 6.6169 11.3103 6.91992 11.9297 7.26682ZM14.3289 8.93802C14.8789 9.40888 15.3785 9.93214 15.82 10.4999C15.3791 11.0675 14.8802 11.5908 14.3309 12.0618C14.385 11.5428 14.412 11.0215 14.4117 10.4999C14.4118 9.97828 14.3846 9.45698 14.3303 8.93802H14.3289ZM5.66973 12.0618C5.11956 11.591 4.61999 11.0677 4.17863 10.4999C4.61953 9.93225 5.11842 9.40898 5.66777 8.93802C5.55929 9.97663 5.55929 11.0232 5.66777 12.0618H5.66973ZM7.7948 14.1951C8.26268 14.4554 8.74388 14.6927 9.23653 14.906C8.53595 15.1325 7.81342 15.2894 7.08 15.3746C6.79248 14.7185 6.57478 14.0359 6.43029 13.3372C6.86855 13.6463 7.32348 13.9327 7.79315 14.1951H7.7948ZM9.99931 17.9666C8.96352 17.9666 8.02232 17.1722 7.3282 15.8836C8.24216 15.7583 9.13834 15.5325 9.99931 15.2106C10.8606 15.5327 11.7572 15.7585 12.6715 15.8836C11.976 17.1722 11.0351 17.9666 9.99931 17.9666ZM16.8936 14.7666C16.589 14.7666 16.342 14.5278 16.342 14.2332C16.342 13.9386 16.5889 13.6999 16.8936 13.6999C17.1982 13.6999 17.4451 13.9386 17.4451 14.2332C17.4451 14.5278 17.1982 14.7666 16.8936 14.7666ZM16.9515 13.1721C16.9319 13.1721 16.9134 13.1666 16.8935 13.1666C16.2843 13.1666 15.7905 13.6441 15.7905 14.2332C15.7915 14.4717 15.876 14.7028 16.0301 14.8889C15.4295 15.2721 14.5528 15.4543 13.5027 15.4161C13.8446 14.5902 14.0869 13.7288 14.2249 12.8492C14.9382 12.2938 15.5837 11.6616 16.149 10.9649C16.6146 11.6186 16.8916 12.3805 16.9515 13.1721ZM17.4451 6.76654C17.4451 7.06109 17.1982 7.29989 16.8935 7.29989C16.5889 7.29989 16.342 7.06111 16.342 6.76654C16.342 6.47197 16.5889 6.2332 16.8935 6.2332C17.1982 6.2332 17.4451 6.472 17.4451 6.76654ZM16.0301 6.11082C15.876 6.29697 15.7915 6.52808 15.7905 6.76654C15.7905 7.35566 16.2843 7.8332 16.8935 7.8332C16.9134 7.8332 16.9319 7.82866 16.9515 7.82761C16.8917 8.61926 16.6147 9.38116 16.149 10.0348C15.5836 9.33809 14.938 8.70591 14.2247 8.15055C14.0865 7.27089 13.8438 6.40954 13.5016 5.58362C14.5526 5.54522 15.4298 5.72655 16.0301 6.11082ZM9.99931 3.03322C11.0351 3.03322 11.9763 3.82762 12.6704 5.11615C11.7569 5.24155 10.8612 5.46736 10.0007 5.78922C9.13939 5.46712 8.24284 5.24131 7.3285 5.11615C8.02259 3.82762 8.96352 3.03322 9.99931 3.03322ZM3.10506 6.23323C3.40966 6.23323 3.65661 6.472 3.65661 6.76657C3.65661 7.06114 3.40969 7.29991 3.10506 7.29991C2.80044 7.29991 2.55351 7.06114 2.55351 6.76657C2.55351 6.472 2.80046 6.23323 3.10506 6.23323ZM3.04717 7.82761C3.06674 7.82761 3.08522 7.8332 3.10509 7.8332C3.71431 7.8332 4.20816 7.35563 4.20816 6.76654C4.20713 6.52808 4.12267 6.29695 3.96851 6.11082C4.56886 5.72762 5.44552 5.54575 6.49594 5.58362C6.15405 6.40959 5.91169 7.27094 5.7737 8.15055C5.06051 8.70591 4.415 9.33799 3.84966 10.0345C3.38388 9.38103 3.10685 8.6192 3.04717 7.82761ZM3.84966 10.9652C4.41527 11.6617 5.06094 12.2938 5.77425 12.8492C5.91239 13.7289 6.15492 14.5904 6.49705 15.4164C5.44747 15.4548 4.57024 15.2721 3.96962 14.8889C4.12337 14.7027 4.20743 14.4715 4.20816 14.2332C4.20816 13.6441 3.71428 13.1666 3.10509 13.1666C3.08522 13.1666 3.06677 13.1714 3.04717 13.1721C3.10696 12.3806 3.38396 11.6188 3.84966 10.9652Z" fill="#3582CD" stroke="#3582CD" strokeWidth="0.4" />
        //     </svg>, href: '', name: 'Việc làm gợi ý từ WorkAI', listObjChildren: []
        // },
        {
            id: 5, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M17.8084 11.6667L18.0917 8.69167C18.3084 6.65833 17.7251 5 14.1667 5H5.83339C2.27506 5 1.69173 6.65833 1.91673 8.69167L2.54173 15.3583C2.71673 16.9917 3.31673 18.3333 6.66673 18.3333H13.3334C16.6834 18.3333 17.2834 16.9917 17.4584 15.3583" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M6.66663 4.99999V4.33332C6.66663 2.85832 6.66663 1.66666 9.33329 1.66666H10.6666C13.3333 1.66666 13.3333 2.85832 13.3333 4.33332V4.99999" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M11.6667 10.8333V11.6667C11.6667 11.675 11.6667 11.675 11.6667 11.6833C11.6667 12.5917 11.6584 13.3333 10 13.3333C8.35004 13.3333 8.33337 12.6 8.33337 11.6917V10.8333C8.33337 10 8.33337 10 9.16671 10H10.8334C11.6667 10 11.6667 10 11.6667 10.8333Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M18.0416 9.16666C16.1166 10.5667 13.9166 11.4 11.6666 11.6833" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M2.18335 9.39166C4.05835 10.675 6.17502 11.45 8.33335 11.6917" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            </svg>, href: '/ung-vien/viec-lam-da-ung-tuyen', name: 'Việc làm đã ứng tuyển', listObjChildren: []
        },
        {
            id: 6, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M18.3333 7.49999C18.3333 3.33332 16.6666 1.66666 12.5 1.66666H7.49996C3.33329 1.66666 1.66663 3.33332 1.66663 7.49999V12.5C1.66663 16.6667 3.33329 18.3333 7.49996 18.3333H12.5C16.6666 18.3333 18.3333 16.6667 18.3333 12.5V10.8083" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M5.83337 4.15832V2.03333" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M14.1667 2.03333V10.35C14.1667 11.9917 12.9917 12.6333 11.55 11.7667L10.45 11.1083C10.2 10.9583 9.80004 10.9583 9.55004 11.1083L8.45004 11.7667C7.00837 12.625 5.83337 11.9917 5.83337 10.35V7.49999" stroke="#3582CD" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            </svg>, href: '/ung-vien/viec-lam-da-luu', name: 'Việc làm đã lưu', listObjChildren: []
        },
        {
            id: 7, icon: <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M4.16666 8.33335H5.83333C7.5 8.33335 8.33333 7.50002 8.33333 5.83335V4.16669C8.33333 2.50002 7.5 1.66669 5.83333 1.66669H4.16666C2.5 1.66669 1.66666 2.50002 1.66666 4.16669V5.83335C1.66666 7.50002 2.5 8.33335 4.16666 8.33335Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M14.1667 8.33335H15.8333C17.5 8.33335 18.3333 7.50002 18.3333 5.83335V4.16669C18.3333 2.50002 17.5 1.66669 15.8333 1.66669H14.1667C12.5 1.66669 11.6667 2.50002 11.6667 4.16669V5.83335C11.6667 7.50002 12.5 8.33335 14.1667 8.33335Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M14.1667 18.3334H15.8333C17.5 18.3334 18.3333 17.5 18.3333 15.8334V14.1667C18.3333 12.5 17.5 11.6667 15.8333 11.6667H14.1667C12.5 11.6667 11.6667 12.5 11.6667 14.1667V15.8334C11.6667 17.5 12.5 18.3334 14.1667 18.3334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M4.16666 18.3334H5.83333C7.5 18.3334 8.33333 17.5 8.33333 15.8334V14.1667C8.33333 12.5 7.5 11.6667 5.83333 11.6667H4.16666C2.5 11.6667 1.66666 12.5 1.66666 14.1667V15.8334C1.66666 17.5 2.5 18.3334 4.16666 18.3334Z" stroke="#3582CD" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
            </svg>, href: '', name: 'Quản lý tài khoản', listObjChildren: [
                {
                    id: 1000,
                    itemLeft: 'Đổi mật khẩu',
                    itemRight: 'Thông tin cá nhân',
                    hrefLeft: '/ung-vien/doi-mat-khau',
                    hrefRight: '/ung-vien/ho-so-xin-viec'
                },
                // {
                //     id: 1001,
                //     itemLeft: 'QR tài khoản',
                //     itemRight: 'Thông báo',
                //     hrefLeft: '',
                //     hrefRight: ''
                // },
                // {
                //     id: 1002,
                //     itemLeft: 'Thông tin chuyên viên hỗ trợ',
                //     itemRight: '',
                //     hrefLeft: '',
                //     hrefRight: ''
                // },
            ]
        },

    ];
    // const [ listE]
    // Xử lý active menu
    const [expandedItems, setExpandedItems] = useState<any>([]);
    const [preventFirstRender, setPreventFirstRender] = useState(true)

    const toggleItem = (index: any) => {
        setExpandedItems((prevExpandedItems: any) => {
            if (prevExpandedItems.includes(index)) {
                return prevExpandedItems.filter((item: any) => item !== index);
            } else {
                return [index];
            }
        });
    };
    // Xử lý toggle Person,
    const [activeToggle, setActiveToggle] = useState<any>(false)
    const fetchSwitchAllowSearch = async (value: number) => {
        let response = await POST('candidate/AllowSearchCandi', { value: value })

        if (response?.result) {
            // console.log('>>> switch thanh cong!');
            setCandiAllowEmployerSearch(`${response?.result_search}`)
        } else {
            // console.log('>>> switch that bai!');
        }
    }

    // useEffect(() => {
    //     if (preventFirstRender) {
    //         setPreventFirstRender(false)
    //     } else {
    //         fetchSwitchAllowSearch()
    //     }
    //     return () => {
    //         setPreventFirstRender(true)
    //     }
    // }, [candiAllowSearch])

    const handleClickActiveToggle = () => {
        if (candiAllowSearch == '1') {
            fetchSwitchAllowSearch(0)
            // setCandiAllowSearch('0')
        } else {
            fetchSwitchAllowSearch(1)
            // setCandiAllowSearch('1')
        }
    }


    const renderMenuItems = (menuList: any[]) => {
        return menuList.map((item, index) => (
            <Fragment key={index}>
                <div
                    className={s["box-content"]}
                    onClick={() => {
                        // Link
                        item?.href && router.push(`${item.href}`)
                        toggleItem(index)
                    }}
                >
                    <div className={s["content-left"]}>
                        {item.icon}
                        <p className={`${s['item-name']} ${expandedItems.includes(index) ? s.active : ''}`}>{item.name}</p>
                    </div>
                    {item.listObjChildren.length > 0 && (
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" className={`${expandedItems.includes(index) ? s['arrow-up'] : s['arrow-down']}`}>
                            <path d="M14.0666 11.2333C13.9 11.4 13.7026 11.4833 13.4746 11.4833C13.2466 11.4833 13.0495 11.4 12.8833 11.2333L7.99996 6.35L3.09996 11.25C2.9444 11.4056 2.74996 11.4833 2.51663 11.4833C2.28329 11.4833 2.08329 11.4 1.91663 11.2333C1.74996 11.0667 1.66663 10.8693 1.66663 10.6413C1.66663 10.4133 1.74996 10.2162 1.91663 10.05L7.53329 4.45C7.59996 4.38334 7.67218 4.336 7.74996 4.308C7.82774 4.28 7.91107 4.26623 7.99996 4.26667C8.08885 4.26667 8.17218 4.28067 8.24996 4.30867C8.32774 4.33667 8.39996 4.38378 8.46663 4.45L14.0833 10.0667C14.2388 10.2222 14.3166 10.414 14.3166 10.642C14.3166 10.87 14.2333 11.0671 14.0666 11.2333Z" fill="#3582CD" />
                        </svg>
                    )}
                </div>
                {expandedItems.includes(index) && renderChildItems(item.listObjChildren)}
            </Fragment>
        ));
    };

    const renderChildItems = (listObjChildren: any[]) => {
        if (!listObjChildren || listObjChildren.length === 0) {
            return null;
        }

        return (
            <div className={s["menu-item-child"]}>
                {listObjChildren.map((child, index) => (
                    <div key={index} className={s["item-child"]}>
                        {child.itemRight ? <>
                            <div className={s["item-left"]} onClick={() => {
                                child?.hrefLeft && router.push(`${child.hrefLeft}`)
                            }}>
                                <p>{child.itemLeft}</p>
                            </div>
                            <div className={s["item-right"]} onClick={() => {
                                child?.hrefRight && router.push(`${child.hrefRight}`)
                            }}>
                                <p>{child.itemRight}</p>
                            </div>
                        </> :
                            <div className={s["item-left"]} style={{ fontSize: '14px' }} onClick={() => {
                                child?.hrefLeft && router.push(`${child.hrefLeft}`)
                            }}>{child.itemLeft}</div>
                        }
                    </div>
                ))}
            </div>
        );
    };

    useEffect(() => {
        if (isOpen) {
            setExpandedItems([])
        }

    }, [isOpen])


    useEffect(() => {
        setActiveToggle(false)
    }, [isTongle]);

    return (
        <div id="content_menu" className={s['menu-wrapper']} >
            <div className={s["box-account"]}>
                <Link href={`#`}>
                    <Image width={50} height={50} src={handleImageSource(ava)} alt="" className={s["box-img"]} onError={(e) => { e.currentTarget.srcset = '/images/candidate/ava_default.png' }}></Image>
                </Link>
                {checkAccount ? <div className={s["box-infor"]}>
                    <p
                        className={s["if-name"]}
                        onClick={() => { router.push(`/chi-tiet-ung-vien/${createLinkTilte(name)}u-${Cookies.get(cookieId)}.html`) }}
                        style={{
                            cursor: 'pointer'
                        }}
                    >{name}</p>
                    <div className={s["if-detail"]}>
                        <p>Account: <span className={s["detail-num"]}>{phone}</span> </p>
                        <p>- </p>
                        <p>ID: <span className={s["detail-num"]}>{Cookies.get(cookieId)}</span></p>
                    </div>
                    <div className={s["if-contact"]} >
                        {
                            candiAllowSearch === '1' ?
                                <svg style={{ cursor: 'pointer' }} onClick={handleClickActiveToggle} xmlns="http://www.w3.org/2000/svg" width="28" height="16" viewBox="0 0 28 16" fill="none" className={s["img-toggle"]}>
                                    <path d="M20.5898 0H7.41016C3.32418 0 0 3.58878 0 8C0 12.4112 3.32418 16 7.41016 16H20.5898C24.6758 16 28 12.4112 28 8C28 3.58878 24.6758 0 20.5898 0ZM20.5898 14.2288C17.4085 14.2288 14.8203 11.4346 14.8203 8C14.8203 4.56549 17.4085 1.77122 20.5898 1.77122C23.7712 1.77122 26.3594 4.56549 26.3594 8C26.3594 11.4346 23.7712 14.2288 20.5898 14.2288Z" fill="#3582CD" />
                                </svg>
                                :
                                <svg style={{ cursor: 'pointer' }} onClick={handleClickActiveToggle} xmlns="http://www.w3.org/2000/svg" width="28" height="16" viewBox="0 0 28 16" fill="none">
                                    <path d="M7.41016 0H20.5898C24.6758 0 28 3.58878 28 8C28 12.4112 24.6758 16 20.5898 16H7.41016C3.32418 16 0 12.4112 0 8C0 3.58878 3.32418 0 7.41016 0ZM7.41016 14.2288C10.5915 14.2288 13.1797 11.4346 13.1797 8C13.1797 4.56549 10.5915 1.77122 7.41016 1.77122C4.22882 1.77122 1.64062 4.56549 1.64062 8C1.64062 11.4346 4.22882 14.2288 7.41016 14.2288Z" fill="#8B8B8B" />
                                </svg>
                        }
                        <p>Cho phép NTD tìm kiếm</p>
                    </div>
                </div> :
                    <div className={s["box-info-company"]}>
                        <p
                            style={{
                                cursor: 'pointer'
                            }}
                            onClick={() => router.push(`/nha-tuyen-dung/chi-tiet-cong-ty/${Cookies.get(cookieId)}`)}
                        >{name}</p>
                        <div className={s["info-point"]}>
                            <p>Điểm lọc hồ sơ: <span>{point}</span></p>
                            <p>- </p>
                            <p>ID: <span>{Cookies.get(cookieId)}</span></p>
                        </div>
                    </div>}

            </div>

            {checkAccount ? renderMenuItems(listMenuPerson) : renderMenuItems(listMenuCompany)}
            <div className={s["logout"]}>
                <div className={s["content-value"]} onClick={() => { logOut(); router.pathname !== '/' && router.push('/'); setCheckLogin(false) }}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <g clipPath="url(#clip0_1738_25132)">
                            <path d="M1.66653 6.66667L1.66653 13.3333C1.66653 15.6904 1.66653 16.8689 2.39876 17.6011C3.13099 18.3333 4.3095 18.3333 6.66653 18.3333L7.49986 18.3333C9.85688 18.3333 11.0354 18.3333 11.7676 17.6011C12.4079 16.9608 12.4883 15.9792 12.4984 14.1667M12.4984 5.83334C12.4883 4.02082 12.4079 3.03922 11.7676 2.3989C11.0354 1.66667 9.85688 1.66667 7.49986 1.66667L6.66653 1.66667C4.30951 1.66667 3.13099 1.66667 2.39876 2.3989C2.14893 2.64874 1.98434 2.95052 1.8759 3.33334" stroke="#FF0000" strokeWidth="1.5" strokeLinecap="round" />
                            <path d="M7.5 10L19 10M19 10L16 7M19 10L16 13" stroke="#FF0000" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                        </g>
                        <defs>
                            <clipPath id="clip0_1738_25132">
                                <rect x="20" width="20" height="20" rx="5" transform="rotate(90 20 0)" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <p>Đăng xuất</p>
                </div>
            </div>
        </div>
    )
}

export default MenuAccount
